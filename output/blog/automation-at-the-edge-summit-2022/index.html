<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Learn what is new after Summit 2022 with automation at the edge.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Automation at the Edge, Summit 2022 | Ansible Collaborative</title>
<link href="../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/baguetteBox.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/theme.css" rel="stylesheet" type="text/css">
<!-- Red Hat fonts --><link rel="stylesheet" href="https://static.redhat.com/libs/redhat/redhat-font/2.0.0/webfonts/red-hat-font.css">
<!-- Font Awesome --><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
<!-- Fork Awesome --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css" integrity="sha256-XoaMnoYC5TH6/+ihMEnospgm0J1PM/nioxbOUdnM8HY=" crossorigin="anonymous">
<!-- Sass compiled css  --><link rel="stylesheet" href="../../assets/css/main.css">
<link rel="stylesheet" href="../../assets/css/redhat-footer.css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://ansible.com/blog/automation-at-the-edge-summit-2022/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Elle Universal">
<link rel="prev" href="../bullhorn-58/" title="Bullhorn #58" type="text/html">
<link rel="next" href="../bullhorn-59/" title="Bullhorn #59" type="text/html">
<meta property="og:site_name" content="Ansible Collaborative">
<meta property="og:title" content="Automation at the Edge, Summit 2022">
<meta property="og:url" content="https://ansible.com/blog/automation-at-the-edge-summit-2022/">
<meta property="og:description" content="Learn what is new after Summit 2022 with automation at the edge.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2022-05-19T00:00:00Z">
</head>
<body id="top">

<div class="global-container" id="content" role="main">
<!-- Start menubar -->
<nav class="navbar navbar-expand-lg static-top mb-4 navbar-padding full-width-bg   navbar-dark   bg-pool   "><div class="masthead">
    <!-- This keeps the margins nice -->
    <a class="navbar-brand" href="../../">
        <img src="../../images/ansible_logo-small-15.png" alt="Ansible community logo" id="logo" class="d-inline-block align-top" width="50" height="50"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon nav-toggle-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="bs-navbar">
      <ul class="navbar-nav mr-auto"></ul>
<ul class="navbar-nav navbar-right">
<li class="nav-item dropdown">
	        <a href="#" class="nav-link nav-link-color dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		    <i class=""></i> Documentation
                </a>
		<div class="dropdown-menu dropdown-menu-border">
	    
                    <a href="https://docs.ansible.com/" class="dropdown-item">
		        <i class=""></i> Project documentation
                    </a>
                    <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/" class="dropdown-item">
		        <i class=""></i> Ansible Automation Platform documentation
                    </a>
            </div>
                 </li>
<li class="nav-item">
		     <a href="https://galaxy.ansible.com/" target="_blank" class="nav-link nav-link-color">
		         <i class=""></i> Galaxy
		     </a>
		 </li>
                 <li class="nav-item">
		     <a href="https://forum.ansible.com/" target="_blank" class="nav-link nav-link-color">
		         <i class=""></i> Forum
		     </a>
		 </li>
            <li class="nav-item dropdown">
	        <a href="#" class="nav-link nav-link-color dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		    <i class=""></i> Resources
                </a>
		<div class="dropdown-menu dropdown-menu-border">
	    
                    <a href="../../how-ansible-works/" class="dropdown-item">
		        <i class=""></i> How Ansible works
                    </a>
                    <a href="../../ecosystem/" class="dropdown-item">
		        <i class=""></i> Ansible ecosystem
                    </a>
                    <a href="../archive.html" class="dropdown-item">
		        <i class=""></i> Blog
                    </a>
                    <a href="../../faq/" class="dropdown-item">
		        <i class=""></i> Frequently asked questions
                    </a>
                    <a href="../../ansible-community-training/" class="dropdown-item">
		        <i class=""></i> Ansible community training
                    </a>
                    <a href="../../contact-us/" class="dropdown-item">
		        <i class=""></i> Contact us
                    </a>
            </div>
                 </li>
<li class="nav-item">
		     <a href="https://www.redhat.com/en/technologies/management/ansible?sc_cid=7015Y000003szaKQAQ" target="_blank" class="nav-link nav-link-color">
		         <i class=""></i> Ansible Automation Platform
		     </a>
		 </li>

        
      </ul>
</div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container -->
</nav><!-- End default Menubar --><div class="body-content center-band">
        <!--Body content-->
        
  <article class="post-text h-entry hentry postpage ansible-content" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Automation at the Edge, Summit 2022</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/elle-universal/">Elle Universal</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2022-05-19T00:00:00Z" itemprop="datePublished" title="2022-05-19 00:00">2022-05-19 00:00</time></a>
            </p>
                    <p class="sourceline"><a href="index.md" class="sourcelink">Source</a></p>

        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
<h2>Automation at the Edge, Summit 2022</h2>
<p>As some of you may know, Red Hat Summit was back in person in Boston
last week. For those who are not familiar, Red Hat Summit is the premier
enterprise open source event for IT professionals to learn, collaborate,
and innovate on technologies from the datacenter and public cloud to the
edge and beyond. Red Hat made a lot of exciting announcements, with
several that included Red Hat Ansible Automation Platform.
If you could not make the event or would like to revisit some of the
content, you can access any session <a href="https://www.redhat.com/en/summit">on demand</a>. </p>
<p>One of the big
<a href="https://www.redhat.com/en/about/press-releases/red-hat-unveils-new-levels-security-software-supply-chain-edge">announcements</a>
at Summit was the unveiling of new levels of security from the software
supply chain to the edge. In Ansible Automation Platform 2.2, Red Hat is
introducing a technical preview of Ansible content signing technology.
The new capability helps with software supply chain security by enabling
automation teams to validate that the automation content being executed
in their enterprise is verified and trusted. </p>
<p>With the announcement of this new edge capability, we showcased a
session for Ansible and edge that is available on demand. The session
<a href="https://events.experiences.redhat.com/widget/redhat/sum22/SessionCatalog22/session/1640789672821001p0oM">"GitOps your distributed edge computing model with Red Hat Ansible Automation Platform"</a>
covers how Ansible Automation Platform, in combination with GitOps, can
decrease the time to market and repair time to deploy and operate
network edge infrastructure. It includes a demo that shows how to
describe a deployment in Git, which works as a single source of truth.
You will be able to see how Ansible Automation Platform enforces the
correct state of the network infrastructure of a large-scale
organization and its tracking through IT Service Management. </p>
<p>Scaling automation anywhere using Ansible Automation Platform
<a href="https://www.redhat.com/en/about/press-releases/red-hat-introduces-new-cross-portfolio-edge-capabilities">Red Hat introduced new cross-portfolio edge capabilities</a>,
including features in Ansible Automation Platform that solves the
management and automation needs to drive visibility and consistency
across an organization's edge deployments. </p>
<p>The session <a href="https://events.experiences.redhat.com/widget/redhat/sum22/SessionCatalog22/session/1641398142450001vmkJ">"Ansible Automation Platform 2 automation mesh-starting locally, scaling globally"</a>
covers how to scale automation to successfully execute in distributed
edge locations. </p>
<h2>Automating RHEL at the edge with Ansible</h2>
<p>If you watched the keynote presentation, you heard about the release of
a <a href="https://www.redhat.com/en/about/press-releases/red-hat-introduces-new-cross-portfolio-edge-capabilities">SaaS Edge Manager</a>.
However, we realize not everyone can use the cloud to manage their
fleet. Below is how to add a postscript to your kickstart file to
register your devices directly to an Ansible Automation Platform
inventory so you can use it to manage your fleet.</p>
<div class="code"><pre class="code literal-block"><span class="err">%</span><span class="l l-Scalar l-Scalar-Plain">post</span>
<span class="l l-Scalar l-Scalar-Plain"># Create ansible playbook to register device to Ansible automation platform</span>
<span class="l l-Scalar l-Scalar-Plain">cat &gt; /tmp/add_to_aap.yml &lt;&lt;EOF</span>
<span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w w-Error"> </span><span class="nt">vars</span><span class="p">:</span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">aap_url=https://AAPHOST.fqdn.com/api/v2/inventories/CHANGEME/hosts/</span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">aap_username=changeme</span>
<span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">aap_password=changeme</span>
<span class="w"> </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w"> </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">create hostname from regex of mac address</span>
<span class="w">     </span><span class="nt">ansible.builtin.set_fact</span><span class="p">:</span>
<span class="w">       </span><span class="nt">edge_hostname</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">ansible_default_ipv4.macaddress</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">replace(':','')</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">set hostname to mac ansible_all_ipv4_address</span>
<span class="w">     </span><span class="nt">ansible.builtin.hostname</span><span class="p">:</span>
<span class="w">       </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">"summit-demo-{{</span><span class="nv"> </span><span class="s">edge_hostname</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">       </span><span class="nt">use</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">systemd</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Update Ansible Tower inventory</span>
<span class="w">     </span><span class="nt">uri</span><span class="p">:</span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">aap_url</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">      </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">aap_ks_user</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">      </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">aap_ks_password</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">      </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">POST</span>
<span class="w">      </span><span class="nt">body</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">ansible_hostname</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">        </span><span class="nt">variables</span><span class="p">:</span><span class="w"> </span><span class="s">'{ipaddress:</span><span class="nv"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">ansible_all_ipv4_addresses</span><span class="nv"> </span><span class="s">}}",</span><span class="nv"> </span><span class="s">macaddress:</span><span class="nv"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">ansible_default_ipv4.macaddress</span><span class="nv"> </span><span class="s">}}"</span><span class="nv"> </span><span class="s">}'</span>
<span class="w">      </span><span class="nt">force_basic_auth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<span class="w">      </span><span class="nt">status_code</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">201</span>
<span class="w">      </span><span class="nt">body_format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">json</span>
<span class="w">      </span><span class="nt">validate_certs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="l l-Scalar l-Scalar-Plain">EOF</span>
<span class="l l-Scalar l-Scalar-Plain">ansible-playbook /tmp/add_to_aap.yml</span>
<span class="err">%</span><span class="l l-Scalar l-Scalar-Plain">end</span>
</pre></div>

<h3>Step 1: Inventory creation</h3>
<ul>
<li>
<p>Create the inventory in Ansible Automation Platform, and get the
    inventory number.</p>
</li>
<li>
<p>Get the URL: in this example, the inventory ID is 2:</p>
<p><img alt="url example" src="../../images/posts/archive/edge-inventory-creation.png"></p>
<p><code>https://AAPHOST.fqdn.com/#/inventories/inventory/2/details</code></p>
</li>
<li>
<p>Assign aap_url in vars section:
    <code>aap_url = https://AAPHOST.fqdn.com/api/v2/inventories/2/hosts/</code></p>
</li>
</ul>
<h3>Step 2: Create credentials in Ansible Automation Platform</h3>
<p>Assign credentials to <code>aap_ks_user</code> and <code>aap_ks_password</code> in the Access Users tab in Ansible Automation Platform.</p>
<h3>Step 3: Check Ansible Automation Platform</h3>
<p>You should now see your devices in Ansible Automation Platform after they boot up.</p>
<p><img alt="screenshot" src="../../images/posts/archive/edge-device-boot.png"></p>
</div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../bullhorn-58/" rel="prev" title="Bullhorn #58">Previous post</a>
            </li>
            <li class="next">
                <a href="../bullhorn-59/" rel="next" title="Bullhorn #59">Next post</a>
            </li>
        </ul></nav></aside></article><!--End of body content-->
</div>
        <div class="content-slim redhat-footer">
      <div class="footer-left">
        <ul class="footer-left-links">
<li>
            <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC BY-SA 4.0</a>
          </li>
          <li>
            <a href="https://www.redhat.com/en/about/privacy-policy" target="_blank">Privacy policy</a>
          </li>
          <li>
            <a href="https://docs.ansible.com/ansible/latest/community/code_of_conduct.html" target="_blank">Code of conduct</a>
          </li>
        </ul>
</div>
      <div class="footer-right">
        <span class="redhat">Powered by</span>
        <span class="redhat-logo">
          <a href="https://www.redhat.com/en/technologies/management/ansible" target="_blank">
            <img src="../../assets/images/redhat_reversed.svg" alt="Red Hat logo." width="96" height="28"></a>
        </span>
      </div>
    </div>

</div>

            <script src="../../assets/js/jquery.min.js"></script><script src="../../assets/js/popper.min.js"></script><script src="../../assets/js/bootstrap.min.js"></script><script src="../../assets/js/baguetteBox.min.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
</script><script src="../../assets/js/clipboard.min.js" type="text/javascript"></script><script src="../../assets/js/clipboard.js" type="text/javascript"></script>
</body>
</html>
