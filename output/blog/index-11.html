<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Ansible Collaborative Website">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ansible Collaborative (old posts, page 11) | Ansible Collaborative</title>
<link href="../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/baguetteBox.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
<!-- Red Hat fonts --><link rel="stylesheet" href="https://static.redhat.com/libs/redhat/redhat-font/2.0.0/webfonts/red-hat-font.css">
<!-- Font Awesome --><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
<!-- Fork Awesome --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css" integrity="sha256-XoaMnoYC5TH6/+ihMEnospgm0J1PM/nioxbOUdnM8HY=" crossorigin="anonymous">
<!-- Sass compiled css  --><link rel="stylesheet" href="../assets/css/main.css">
<link rel="stylesheet" href="../assets/css/redhat-footer.css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../rss.xml">
<link rel="canonical" href="https://ansible.com/blog/index-11.html">
<link rel="prev" href="index-12.html" type="text/html">
<link rel="next" href="index-10.html" type="text/html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]-->
</head>
<body id="top">

<div class="global-container" id="content" role="main">
<!-- Start menubar -->
<nav class="navbar navbar-expand-lg static-top mb-4 navbar-padding full-width-bg   navbar-dark   bg-pool   "><div class="masthead">
    <!-- This keeps the margins nice -->
    <a class="navbar-brand" href="../">
        <img src="../images/ansible_logo-small-15.png" alt="Ansible community logo" id="logo" class="d-inline-block align-top" width="50" height="50"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon nav-toggle-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="bs-navbar">
      <ul class="navbar-nav mr-auto"></ul>
<ul class="navbar-nav navbar-right">
<li class="nav-item dropdown">
	        <a href="#" class="nav-link nav-link-color dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		    <i class=""></i> Documentation
                </a>
		<div class="dropdown-menu dropdown-menu-border">
	    
                    <a href="https://docs.ansible.com/" class="dropdown-item">
		        <i class=""></i> Project documentation
                    </a>
                    <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/" class="dropdown-item">
		        <i class=""></i> Ansible Automation Platform documentation
                    </a>
            </div>
                 </li>
<li class="nav-item">
		     <a href="https://galaxy.ansible.com/" target="_blank" class="nav-link nav-link-color">
		         <i class=""></i> Galaxy
		     </a>
		 </li>
                 <li class="nav-item">
		     <a href="https://forum.ansible.com/" target="_blank" class="nav-link nav-link-color">
		         <i class=""></i> Forum
		     </a>
		 </li>
            <li class="nav-item dropdown">
	        <a href="#" class="nav-link nav-link-color dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		    <i class=""></i> Resources
                </a>
		<div class="dropdown-menu dropdown-menu-border">
	    
                    <a href="../how-ansible-works/" class="dropdown-item">
		        <i class=""></i> How Ansible works
                    </a>
                    <a href="../ecosystem/" class="dropdown-item">
		        <i class=""></i> Ansible ecosystem
                    </a>
                    <a href="archive.html" class="dropdown-item">
		        <i class=""></i> Blog
                    </a>
                    <a href="../faq/" class="dropdown-item">
		        <i class=""></i> Frequently asked questions
                    </a>
                    <a href="../ansible-community-training/" class="dropdown-item">
		        <i class=""></i> Ansible community training
                    </a>
                    <a href="../contact-us/" class="dropdown-item">
		        <i class=""></i> Contact us
                    </a>
            </div>
                 </li>
<li class="nav-item">
		     <a href="https://www.redhat.com/en/technologies/management/ansible?sc_cid=7015Y000003szaKQAQ" target="_blank" class="nav-link nav-link-color">
		         <i class=""></i> Ansible Automation Platform
		     </a>
		 </li>

        
      </ul>
</div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container -->
</nav><!-- End default Menubar --><div class="body-content center-band">
        <!--Body content-->
        
    
  <div class="postindex ansible-content">
      <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="ansible-and-matrix/" class="u-url">Ansible and Matrix</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/greg-sutcliffe/">Greg Sutcliffe</a>
              </span>
            </p>
            <p class="dateline">
              <a href="ansible-and-matrix/" rel="bookmark">
                <time class="published dt-published" datetime="2021-07-08T13:00:00Z" itemprop="datePublished" title="2021-07-08 13:00">2021-07-08 13:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <p><strong>Building bridges - where the Ansible community needs to go next with chat</strong></p>
<p>This post is long, because I have a lot to cover. But I'm going to lead with
the big picture, and if you want details, you can keep reading. Please note
that at this stage, this represents <em>my</em> views - as I will repeat at the end,
my goal is to have the community ratify this, but first I have to convince you
:)</p>
<p>The world turns, and we move with it. The way in which we communicate has
evolved, as it always has, and periodically we must catch up if we want to
attract new people to our community. Today, that means offering a place where
new and existing contributors feel welcomed, safe, and valued, with a rich
interface and a low barrier to entry. I want to help build that, because I fear
that if we don't, we will fade, and Ansible deserves better than that.</p>
<p>I'm going to lay out how to use the solid base of IRC to become a Matrix-first
(but not only, <strong>IRC will remain</strong>) community, and how I hope to move things
forward from the Red Hat side. I know this can be a hot topic for some folks,
so (a) please keep the discussion civil, and (b) I <em>want</em> to hear those
concerns so that we get this right. That said, "right" has to be for the
<em>whole</em> community.</p>
<h3>Future Vision - where I'd like to get to in the next 6 months</h3>
<p>I'm going to go into the specifics of Matrix &amp; IRC later on, but let me start
with <a href="https://discourse.gnome.org/t/irc-matrix-and-thanks-for-all-the-kicks/6482">this quote from Thibault Martin over at
GNOME</a>:</p>
<blockquote>
<p>IRC used to be the top notch system for a while, and is still pretty
reliable. There are issues here and there, but given how basic the whole
protocol is, it is fairly sturdy. The frugality of the protocol that was once
its strength has turned into its weakness in the modern world. <strong>People’s
expectations have shifted</strong>. Most of our contributing community is already
“working for the computer” when producing the great software we all enjoy.
It’s time for instant messaging to get out of the way, and to allow the
computer to work for us when it comes to talking to each other. No NickServ
spells, no ChanServ incantations, no bouncer to rent or to host on a server.
<strong>It’s time for us to just enter our credentials, browse the channels, and
enjoy the conversation with the ones we like to work with.</strong></p>
</blockquote>
<p><strong>I <em>was</em> a long time IRC user, it <em>was</em> the right choice a decade ago; it is
not today</strong>, and so I agree with Thibault. For our community to grow, we must
attract new contributors, and they will want to talk with us. Whilst IRC was
once the go-to for that, it no longer is. However, it's not sufficient to ask
<em>ourselves</em> what we like, that would be <a href="https://en.wikipedia.org/wiki/Survivorship_bias">survivor
bias</a>. By asking the people
who are already happy with IRC if we should keep it, we'll ignore the folks who
didn't join because they struggled with IRC. We want to account for those
people - we don't know who they are, of course, so we must intuit how to make
their life easier. This is why I've spent the last month talking with
communities such as GNOME,
<a href="https://dot.kde.org/2019/02/20/kde-adding-matrix-its-im-framework">KDE</a>,
<a href="http://exple.tive.org/blarg/2019/12/19/over-the-line/">Mozilla</a>,
<a href="https://discussion.fedoraproject.org/t/the-future-of-real-time-chat-discussion-for-the-fedora-council/24628/27">Fedora</a>,
and
<a href="https://review.opendev.org/c/zuul/zuul/+/793669/1/doc/source/reference/developer/specs/community-matrix.rst">OpenDev</a>
about their plans and experiences with this.</p>
<p>I know many of you love IRC, and others are specifically wary of Matrix. I'll
address that shortly. But to round out this section, I'll give you <em>my</em> view of
where the community needs to be in a moderate amount of time (3-6 months):</p>
<ul>
<li>Matrix becomes the default for new users<ul>
<li>We (the community) promote it actively, that is:<ul>
<li>We encourage the use of its richness (emoji reactions, posting images etc.)</li>
<li>We add it to our docs as the way to enagage with us</li>
<li>We make a clear statement that we are a Matrix-first community</li>
</ul>
</li>
<li>We (Red Hat) contribute through paying for Element Hosting, being good FOSS citizens and supporting our supply chain<ul>
<li>This means Matrix rooms can get addresses like <code>#welcome:ansible.com</code>
</li>
<li>We can potentially give out Matrix accounts to contributors (more on that later)</li>
</ul>
</li>
</ul>
</li>
<li>IRC is maintained<ul>
<li>
<strong>IRC does not go away!</strong> Users who are comfortable with their workflow should not be abandoned<ul>
<li>Users who express an interest in making their setup work in Matrix should be helped to do so</li>
<li>Concerns should be addressed where possible. There are a <em>lot</em> of tuning options we can use to improve the IRC-side experience, but we need to bear in mind that the goal <em>is</em> to modernise our chat, and some change comes along with that.</li>
</ul>
</li>
<li>We aim for a gradual osmosis of users to Matrix, aided by giving out Ansible Matrix accounts where suitable</li>
</ul>
</li>
<li>We work on making more use of Matrix<ul>
<li>Use/write Matrix bots rather than IRC ones (there's a GitHub bot already for example, and an RSS bot)</li>
<li>Running conferences on Matrix instead of GMeet / Bluejeans (I have a PoC for this)</li>
<li>Richer tooling for running online meetings (linkable chat, embedded etherpads, etc)</li>
<li>(There's many more things we could try, but for brevity I'll stop here)</li>
</ul>
</li>
</ul>
<p>I'm excited. I know from my work as a community lead for Satellite/TheForeman
that tiny features like being able to give a "thumbs-up" or a "heart" emoji on
a comment from a colleague might seem trivial, but it means <em>the world</em> for
building the <a href="https://noidea.dog/glue">social glue</a> that so often is lacking in
online interactions. It's just one example of where richer interaction
(combined with a lower barrier to entry, as Thibault said) will reap us rewards
as a community.</p>
<p>The idea that a future Contributor Summit would be <em>right there</em> in the
Community room for all to view the stream and participate makes me very happy -
having it in a silo in GMeet means we get far lower participation. KDE are
doing that right now for Akademy (using BigBlueButton), and of course the
entire of FOSDEM 2021 was on Matrix/Jitsi, so it's possible.</p>
<p>The possibilities for bots and widgets are likewise huge - Matrix has a REST
API for writing bots (and an SDK), and Element can embed HTML widgets in the UI
(e.g. KDE are working on a Q&amp;A poll app for doing talks). If we make the rooms
fully public (rather than just open to anyone to join) then you can get an URL
for any line in the chat history, which would mean forgetting to start Zodbot
isn't so critical (although it still has features we like, ofc). There's so
much more we could do here, especially in collaboration with other communities.
In particular I'd like to experiment with the GitHub Matrix bot that already
exists, but there's also Etherpads, Calendars, room conferencing, RSS, Travis
bots, and we can always write our own.</p>
<h3>Justifying Matrix as the choice</h3>
<p>Before we talk about Matrix in more detail, I think it's helpful to review the
issues I see with IRC. I want to stress again that IRC is <em>not</em> going away. It
works for many, and I don't dispute that. But I'll refer back to that <a href="https://en.wikipedia.org/wiki/Survivorship_bias#/media/File:Survivorship-bias.svg">survivor
bias</a>
- I no longer believe it works for <em>new</em> contributors joining us today.</p>
<h4>What's wrong with IRC?</h4>
<p>If you ask Mozilla that question, <a href="http://exple.tive.org/blarg/2019/04/26/synchronous-text/">"everything" is the
answer</a>, but I don't
agree 100%. Some of those concerns apply to us, some do not. In particular,
Mike Hoye talks about the problems with unauthenticated networks and
spam/hostile chat - we can use channel modes on Libera that require
registration. However, the rest of his points stand:
- Available interfaces haven't kept up with modern expectations
- Spam / harassement is endemic to the platform (not in our channels, but if
  our users are in other channels they will be exposed to it)
- IRC is frequently blocked from within institutions &amp; corporate networks
  (often because of the IRC spam in general, even if it doesn't affect us)
- The Freenode drama has shown that there's also an issue of organisational
  ownership. We lost everything on Freenode because of the drama of others.</p>
<p>However, whether that adds up to "IRC is bad" depends on your use case:</p>
<h5>I already use IRC, why should I stop?</h5>
<p>As I said, I think for existing IRC users it's fine. You don't need to stop if
you're happy. You've already got your spam protection in place, you've already
cast the Nickserv spells, and your organisations clearly permit IRC traffic.
Carry on! But take a second, and read over that list of things again. How easy
is it for someone unfamiliar with the world of IRC to do that?</p>
<h5>I'm new, should I use IRC?</h5>
<p>No. It's not what people expect of a modern chat system - Nickserv is ...
unintuitive (to be polite) compared to signup systems people encounter today,
access is hard (and frequently blocked at network level), the rich interface
isn't there, and there's no persistence (without a bouncer, which can be even
harder to get right than Nickserv). It's an <strong>unnecessarily huge</strong> barrier to
entry, to a platform that <strong>doesn't meet expectations of new users anyway</strong>.
That's an <em>enormous</em> ask for people who aren't deeply embedded in the project.
I find it unsurprising that IRC growth in general has been outpaced by other
platforms, and we are no exception.</p>
<h5>I'm an organisation, should I set up on IRC?</h5>
<p>If I was setting up a new project <em>today</em>, no, I would not use IRC. For an
organisation, three things come up. Firstly, access &amp; recruitment - as we've
discussed already, a FOSS project needs volunteers, and when we put big
barriers in the way, we wither. Secondly, keeping members safe - we have a CoC,
but with the way IRC works, it isn't easy to apply, and we cannot ask people to
agree to the CoC the way we do in other places. Third, ownership - the recent
Freenode drama demonstrated that we didn't have control of our own chat domain
that we <em>would</em> have in, say, a forum or by email, and instead watched helpless
as our community was fractured by the actions of others.</p>
<p>I don't think we're yet at the point of declaring IRC a "legacy" system (as
GNOME are
<a href="https://discourse.gnome.org/t/irc-matrix-and-thanks-for-all-the-kicks/6482">considering</a>),
but I do think it's time to start our journey into something more modern and
welcoming to the newest of the community. That platform is Matrix - and I as
said in the section header, we need to justify that...</p>
<h3>What does Matrix bring us?</h3>
<p>First we need to define what <a href="https://matrix.org">Matrix</a> <em>is</em>, because I see
this getting conflated all the time. Matrix is a <em>protocol</em> for real-time
communication (be that text, audio, video or even file sharing). It is <em>not</em> a
client, any more than Thunderbird is SMTP or Hexchat is IRC. Concerns such as
"Matrix is bloated and slow" or "I like my IRSSI interface" need to be taken
aside, because that's a <em>client</em> discussion - a valid discussion for sure, but
not in scope here. Those interested may want to look at <a href="https://matrix.org/clients">the clients
page</a>, there are <em>many</em> options, from full web UI
to a plugin for WeeChat.</p>
<h4>Matrix for the old IRC user</h4>
<p>I'm assuming here that this user <em>wants</em> to try a Matrix account - those who
wish to remain on IRC can do so. If so, well, little changes really. Matrix can
be used as IRC, you're just ignoring the richer features like image sharing
etc. (there's even an IRC display style in Element). Thanks to
<a href="https://matrix.org/bridges">bridging</a> you can hop directly into IRC channels
on some IRC networks (Libera and OFTC to name two). You'll get persistence for
free (no need to run a bouncer), and you can continue largely as normal (this
has been my workflow for the last 4 years).</p>
<h4>Matrix for the new user</h4>
<p>I've already spoken about new-user expectations, so you'd expect that Matrix is
similar compared to the likes of Slack etc. All the features you'd expect
(reactions, notifications, replies, etc.) are there. The get-started flow is
easy too - since <a href="https://app.element.io">Element exists as a webapp</a>, new
users can load it in a browser and try it out. If they wish to dive in, they
can grab a standalone desktop and/or mobile client for easier access. As such,
much of the barrier to entry is removed - no arcane Nickserv process
(registraion is either email-based or SSO, as you would expect of a modern
service), traffic is not blocked so often, and persistence is there by default.</p>
<p>In either case, it's worth reading this comparison of <a href="https://blog.ergaster.org/post/20210602-matrix-for-im/">Matrix vs
Email</a> as many of the
concepts of email carry over.</p>
<h4>Matrix for the organisation</h4>
<p>OK, this is the big one - what does Matrix mean for <em>the Ansible community</em> as
a whole? I'm going to spend a bit more time on this one, because we're all
familiar with chatting, but perhaps these organisational points are a bit more
nuanced.</p>
<h5>Access and recruitment</h5>
<p>As we've said, Matrix supports the feature set that users have come to expect
from modern chat. It's no surprise that Ansible would like to grow its
community of contributors, but it goes deeper. With the incoming
"<a href="https://matrix.org/blog/2021/05/17/the-matrix-space-beta/">Spaces</a>" feature,
Matrix allows us to bring together rooms into a logical hierarchy, and link to
the whole space with a single URL. That's an easy link to drop into our docs,
into our chats, and into our blogs / social media, encouraging others to join
us. It's essentially bringing our <a href="https://docs.ansible.com/ansible/latest/community/communication.html#irc-channels">IRC docs
page</a>
into Matrix and making it one click to jump into a Working Group or similar.
With Suggested Rooms marked clearly, new members can find their way to good
places to ask questions.</p>
<p>(Note Spaces are still experimental and in beta - this is the intended goal,
but for now we would link to the Matrix rooms on the docs page).</p>
<p>Going further, we could make our rooms completely public, which allows
"peeking" in Matrix terms - that lets guests view the chat (in read-only mode)
before they sign up, allowing them a one-click, in-browser view to check if
this is indeed the right channel to join and ask their question - it's hard to
make the barrier lower than that. I have enabled this in <a href="https://matrix.to/#/#jboss-wg:ansible.im">a small working group
room</a> if anyone wishes to try it.</p>
<h5>Safety and conduct</h5>
<p>Matrix has good tooling for moderation and conduct. Unlike IRC, there's no such
thing as an unauthenticated Matrix user (there are guest users but that's not
the same thing, and are currently broken anyway), so spam is far less of a
problem (in fact I've only seen a single serious spam attack on Matrix, and it
was handled far better than IRC). If it's harassment rather than spam, then as
with any chat platform, it is possible to kick or permanently ban any problem
users, and it's much more intuitive than on IRC.</p>
<p>However, Matrix brings with it something of a quiet revolution in moderation.
Matrix is federated (which we haven't spent much time talking about yet) and
that means there are other people operating Matrix servers - and in (yet
another) analogy to email, we can share information about bad actors. Similarly
to how one can subscribe to blocklists for your own email server, Matrix
servers <a href="https://github.com/matrix-org/mjolnir/blob/main/docs/moderators.md#list-management">can share information about
<em>banlists</em></a>.
This is <em>huge</em> - if we decide we trust another group (say, Fedora), then we can
subscribe to their banlists, and any bad actors there are immediately removed
from our community as well. Forming a group of projects that share values and
codes of conduct could make this very strong.</p>
<p>The tools for enforcing the standards we expect of our community run much
deeper, but I don't want to go on forever. I'll link to <a href="http://exple.tive.org/blarg/2019/12/19/over-the-line/">this
piece</a> for some thoughts
from Mozilla on Matrix's tooling around CoC enforcement.</p>
<h5>Ownership</h5>
<p>What does the name of a project mean? When a person emails from a work account,
what values do they represent? When you join the chat room of a group, who are
you talking to? Ownership, namespacing, domains, sovereignty, it has many
names, but it is critical.</p>
<p>The Freenode drama showed that we can lose that quickly if we're not careful;
almost overnight, all our rooms were empty, the namespace meaningless. The same
risk is true of Libera in fact - although I personally trust the admins of
Libera, it's still a 3rd-party network. Also true of Slack, Discord, etc. In
fact, only email really nails this (oh look, email again). I don't have an
Ansible email address, but I do have a Red Hat one, and only Red Hat can take
it away from me. When I email from that, I'm doing Red Hat stuff, and that
matters.</p>
<p>Matrix can do this too - in the same way that an email server uses an MX DNS
record, Matrix has namespaces. Our rooms can be <code>#devel:ansible.com</code> if we wish
them to be (a Matrix room can have many aliases), and the <em>primary</em> room
address confers powers to manage the room. So long as we hold the DNS, we also
hold the rooms - that's one of the benefits of federation.</p>
<p>It goes deeper though, because we'll have accounts to give out, on a second DNS
name (https://chat.ansible.im). Why a second domain? Well, here's some
<a href="https://blog.ergaster.org/post/20210610-sovereignty-federated-system-gnome">extensive
thoughts</a>
on Matrix sovereignty, but one point made is about impersonation and
representation. These accounts will be available to the wider Ansible
community, and I don't want these accounts to be associated with Red Hat (i.e.
ansible.com) - they are for the <em>community</em> and ownership of an ansible.im MXID
should have the same gravitas as a project email address.</p>
<p>There are some decisions to be made about how to hand these accounts out (and
how we take them back, if need be) but I'll cover that later.</p>
<h3>How do we get there? a.k.a THE PLAN</h3>
<p>OK, you have the vision, the concerns, the ways in which Matrix should improve
our situation. How do we get there though? There's a few things to do, some of
which are already in motion (because they're non-binding) and others need us to
collectively agree to implement them.</p>
<h4>Homeservers</h4>
<p>My notes on sovereignty and domain ownership rest on having our own homeserver.
We could self-host this, however we aren't well set up for doing our own ops,
<em>and</em> we want to be supporting our FOSS supply chain. As such <strong>we have secured
funding from Red Hat to pay for a Matrix homeserver with Element Hosting
(ems.element.io)</strong>. This will give us the necessary domain ownership and user
accounts to get the community started on the transition to Matrix.</p>
<p>It's worth noting that <em>all</em> the communities I spoke to praise Element
<em>hugely</em>. Working with them has been a pleasure so far, and they are very open
to feedback, so I expect that relationship will go well and that we can make
improvements as we need to. Read the process that Mozilla <a href="http://exple.tive.org/blarg/category/irc/">went
through</a> if you want to see how that
looked for them.</p>
<p>We are setting up <em>two</em> domains as noted earlier. The first is a small
admin-only instance for controlling the <code>ansible.com</code> namespace - giving us
Ansible primary room names and the moderation tools to enforce our CoC. The
accounts here will be for the folks maintaining the admin install (right now
myself &amp; Gundalow, but we'll want to make the bus factor a bit lower in a short
time), and will not be for day-to-day use. The second is the main homeserver
for user accounts (<code>ansible.im</code>). These are both live as of 2021-06-24,
although the ansible.com instance is not yet federating while we work out
things with the DNS.</p>
<h4>User experience</h4>
<p>I'm looking to https://chat.mozilla.org for inspiration here - clearly
displayed expectations of the user, links to the coduct pages, and so on. If
you make an account and log in, the conduct is shown again. Synapse (the
homeserver software) can store consent, so we can ask users to agree to the
Code of Conduct. The web UI is clear, we can link to it from our docs and
media, and people can hop into the Community channel as a first point of
contact. We're setting up ansible.im to look somewhat similar at the moment,
Gundalow is working on it (but we both suck at page design, so bear with us
:P).</p>
<p>The Matrix Foundation (who maintain the Libera bridge) have kindly granted us
admin on our Libera/Matrix rooms (by default <code>libera.chat</code> rooms have only the
bridge as admin), so once the <code>ansible.com</code> instance is working, I'll be able
to add the ":ansible.com" room ids to each room. I'm already starting to add
<code>:ansible.im</code> aliases as well, just for completeness. <em>No Libera.chat IRC
channels will change name</em> - these are aliases on the Matrix side only, and
we'll use names that make sense (e.g. <code>#community:ansible.com</code> will be an alias
to <code>#ansible-community:libera.chat</code>).</p>
<p>These rooms are already organised into a Space (<code>#ansible-space:matrix.org</code>
right now) and I'm meeting with Element in the coming weeks to give feedback on
Spaces in general, so let me know how you find that if you are in the Spaces
beta.</p>
<h4>Accounts</h4>
<p>This is one area where we need to decide what to do. As we've discussed, a
Matrix account is akin to an email, and we don't just give out Ansible email
addresses to anyone. We should be similarly careful with Ansible accounts - we
would not want someone harassing others or running a scam with an Ansible ID.
This means we need two things - a system for handing out accounts, and a
protocol for taking them back.</p>
<p>To hand them out, I think it's clear that we don't want open registration.
Other groups (Mozilla, Fedora) do this, but they are larger and have other IAM
/ SSO systems to tie the Matrix IDs to - we do not. GNOME are in a similar
position, and are working on a system to tie into Keycloak that allows for
existing users to "vouch" for new requests, 2 vouchs gets an approval. That
system is not ready yet but GNOME are making it public and will welcome
collaboration. In the meantime, I suggest we have a manual-vouch, whereby an
admin (likely me, but not <em>only</em> me) receives a request and the request gets
the needed vouches from the community and then the account is created. Exact
details of making and handling requests are to be determined (by pull request
or similar?) but the principle is clear.</p>
<p>To remove an account is trivial technically, but we need a policy. Clearly, any
breach of our Code of Conduct is grounds for account removal - the safety of
our community is important. It would be natural to assume people who have
drifted away from Ansible should have their accounts reclaimed - but as we are
billed monthly per <em>active</em> user, this may not in practice be required (only if
the user is still active on Matrix, but not in Ansible, would this be needed).
We should reserve the right to do so though, even if in practice we don't use
it often. Once again, Thib has some
<a href="https://blog.ergaster.org/post/20210622-owning-your-matrix-account/">thoughts</a>
which I agree with:</p>
<blockquote>
<p>If you break policy, <strong>the organisation can and probably will take the
account back</strong> and leave you without a chance to retrieve your data. If you
leave the organisation, the account can and should probably be taken back
from you too. Those accounts can really be compared to work e-mail accounts:
you should limit your activities with this account to what you do for the
organisation who provides it, and can’t expect to keep it after you leave.</p>
</blockquote>
<p>Sadly, the lack of multi-account clients does tend to push people towards using
a single Matrix account for everything, but in an ideal world that wouldn't be
true, and users would segregate their activies just as they do between work and
private email. For now though, it'll be painful, so while we <em>need</em> to have the
right to take back an account, I wouldn't <em>want</em> to use that right unless we
had to (either for violations or for cost reasons).</p>
<p>Importantly, Matrix is federated. No one is <em>required</em> to have an <code>ansible.im</code>
MXID to participate in our community. However, these accounts are part of the
package we bought, so we may as well use them, and they may be a useful perk or
good for users that haven't already gotten a Matrix ID.</p>
<p>One day, I'd love to have open registration for our community - but until we
have something to tie it to (such as Fedora and Mozilla do) then I think the
concerns above outweigh the benefits. We'll get there :)</p>
<h4>Interaction with IRC</h4>
<p>Again I will reinforce that we have no plans to stop using IRC. Inevitably
though, some of the richness of a more modern system will be lost on IRC, and
we're going to have to take that on the chin. That said, much will work -
embedded etherpads can have a direct link for use outside of Matrix, likewise
Jitsi (or other conference call software like BBB) has an external URL. These
will always be clearly posted so that IRC users are not left out. Likewise
we're open to tuning the behaviour of the bridge in our rooms regarding edits
and long lines if that becomes a significant issue, and so on. In short, I do
not want IRC users feeling ignored - we should discuss issues as they arise.</p>
<h3>Let's roll</h3>
<p>This is a step change for us, but a needed one (in my opinion). As a community,
I think we need to ratify two things:</p>
<ol>
<li>That we, the Ansible community, accept Matrix as an equal partner to IRC, and we welcome full use of its feature set.</li>
<li>What our policy for giving and removing ansible.im accounts is.</li>
</ol>
<p>I think I've covered (1) in my arguments earlier. For (2), my suggestions are
as above - a pull-request-based vouching workflow, needing 2 ACKs from existing
ansible.im accounts to grant access. For removal, we need some wording here but
I would suggest it's a power that only the steering commitee can excercise, and
that it's for either CoC violations or inactivity <em>within the Ansible
community</em>. I look forward to bringing both these statements to the steering
committee for ratifying in the near future.</p>
<p>Beyond that, I also want to see us do regular retrospectives so we can adjust
as we go. This is not a once-and-done thing, it's a long project, and we need
to listen if it's going to work. I think the first one would be ~1 month after
we start officially promoting Matrix.</p>
<p>I'm excited. I hope you are too.  Please feel reach to reach me for chat any
time (at <code>@gwmngilfen:ansible.im</code>) if you have questions. Thanks for reading to
the end :)</p>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="aix-patch-management-with-ansible/" class="u-url">AIX Patch Management with Ansible</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/talor-holloway/">Talor Holloway</a>
              </span>
            </p>
            <p class="dateline">
              <a href="aix-patch-management-with-ansible/" rel="bookmark">
                <time class="published dt-published" datetime="2021-07-07T00:00:00Z" itemprop="datePublished" title="2021-07-07 00:00">2021-07-07 00:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <h2>AIX Patch Management with Ansible</h2>
<p>Leading enterprises today use Red Hat Ansible Automation Platform to
provision, configure, manage, secure and orchestrate hybrid IT
environments. A common misconception is that Ansible is just used to
manage the Linux operating system. This is a false belief. Ansible
supports Linux, Windows, AIX, IBM i and IBM z/OS environments. This blog
will help AIX system administrators get started with Ansible on AIX, and
introduce a patching use case.</p>
<h3>Ansible Content Collections</h3>
<p>When Ansible Automation Platform was released, Ansible Content
Collections became the de facto standard for distributing, maintaining
and consuming automation content. The shift to Collections increased
community participation and has exponentially increased the number of
stable and supported Ansible modules. Modules delivered via Collections
rather than packaged with Ansible Core have resulted in a faster release
cadence for new modules.</p>
<p>Let us explore the IBM provided Ansible Collection for AIX. It is
important to note that many of the Ansible modules for the Linux
operating system will also work on AIX (in addition to the IBM provided
AIX modules), making the use cases for Ansible on AIX very broad.</p>
<h3>Ansible and AIX, why?</h3>
<p>The AIX operating system has been around for 35 years and is used to run
business-critical applications. Historically, AIX systems were managed
using the tools that ship with AIX, complimented by shell scripts
written by AIX system administrators. The problem with this approach is
that these scripts can become extremely complex over the years, and
often wind up being held together with "duct tape and zip ties".</p>
<p>As enterprises move to a modern, enterprise-wide automation strategy
with Ansible Automation Platform, extending automation to AIX is a great
method to simplify and develop consistency in the way AIX systems are
supported, all while using the same automation tools that can be used
across the enterprise.</p>
<h3>Ansible Concepts</h3>
<p>First let us cover some basic Ansible concepts that will be used in the
example. Further information can be found on the
<a href="https://docs.ansible.com">Ansible documentation site</a>.</p>
<p>Playbooks, which are ordered lists of tasks and variables that are
performed against an inventory of hosts.</p>
<p>Tasks are a single unit of action in Ansible, which calls a module.</p>
<p>Modules are code that Ansible executes. Each module could be something
like copying a file to using NIM to trigger an AIX update.</p>
<p>Roles are repeatable bundles of tasks that are contained in a specific
directory structure.</p>
<p>Variables within Ansible are called like this "".</p>
<p>Task delegation is how tasks can be delegated to another host in the
inventory, other than the host that the Ansible run is targeted against.</p>
<h3>Getting started with Ansible</h3>
<p>In this example, I'm using a Fedora Linux 34 workstation, so I'm going
to use the dnf package manager to install Ansible:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>ansible
</pre></div>

<p>Once Ansible is installed, I'm going to install the ibm.power_aix
Collection:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>ansible-galaxy<span class="w"> </span>collection<span class="w"> </span>install<span class="w"> </span>ibm.power_aix
</pre></div>

<p>When Ansible is installed, a default inventory file /etc/ansible/hosts
is created. At this point, I'm going to include in the inventory the
hosts used in this example:</p>
<ul>
<li>nim01 is our AIX 7.2 NIM Master which is functional and has an
    lpp_source defined.</li>
<li>bruce is an AIX 7.2 NIM client registered to the nim01 NIM master.</li>
<li>freddie is an AIX 7.2 NIM client registered to the nim01 NIM master.</li>
</ul>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>cat<span class="w"> </span>/etc/ansible/hosts
nim01<span class="w"> </span><span class="nv">ansible_host</span><span class="o">=</span><span class="m">10</span>.0.0.5<span class="w"> </span><span class="nv">ansible_user</span><span class="o">=</span>root
bruce<span class="w"> </span><span class="nv">ansible_host</span><span class="o">=</span><span class="m">10</span>.0.0.6<span class="w"> </span><span class="nv">ansible_user</span><span class="o">=</span>root
freddie<span class="w"> </span><span class="nv">ansible_host</span><span class="o">=</span><span class="m">10</span>.0.0.7<span class="w"> </span><span class="nv">ansible_user</span><span class="o">=</span>root
</pre></div>

<p>I'm now going to connect to all the systems over SSH as "root". The
usual practice is to have a service account with "sudo" access, however
for this example I will use "root" in our lab environment. Using the
ssh-copy-id command, I can distribute my SSH public key to the AIX
servers.</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>ssh-copy-id<span class="w"> </span>root@nim01
$<span class="w"> </span>ssh-copy-id<span class="w"> </span>root@bruce
$<span class="w"> </span>ssh-copy-id<span class="w"> </span>root@freddie
</pre></div>

<p>The next step is to use the Ansible ping module to check that I can
connect to the three hosts in our inventory.</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>ansible<span class="w"> </span>-m<span class="w"> </span>ping<span class="w"> </span>all

PLAY<span class="w"> </span><span class="o">[</span>Ansible<span class="w"> </span>Ad-Hoc<span class="o">]</span><span class="w"> </span>************************************************************************************************************************************************************************************************************************

TASK<span class="w"> </span><span class="o">[</span>ping<span class="o">]</span><span class="w"> </span>**********************************************************************************************************************************************************************************************************************************
ok:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span>
ok:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>
ok:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>

PLAY<span class="w"> </span>RECAP<span class="w"> </span>***********************************************************************************************************************************************************************************************************************************
nim01<span class="w">                  </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
bruce<span class="w">                  </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
freddie<span class="w">                </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</pre></div>

<p>Ansible needs "python" to be installed on the AIX systems, and ideally
the "yum" package manager should also be configured on AIX. If your AIX
systems do not have these packages installed, or is a vanilla
installation of AIX, IBM provides an Ansible Role to "bootstrap" an AIX
system and manage it.</p>
<p>The playbook below uses the IBM provided role to prepare an AIX system
for Ansible automation.</p>
<div class="code"><pre class="code literal-block">cat<span class="w"> </span>aix_bootstrap.yml
---

-<span class="w"> </span>name:<span class="w"> </span>Prep<span class="w"> </span>AIX<span class="w"> </span><span class="k">for</span><span class="w"> </span>Ansible
<span class="w">  </span>hosts:<span class="w"> </span>all
<span class="w">  </span>vars:
<span class="w">    </span>pkgtype:<span class="w"> </span>yum
<span class="w">  </span>collections:
<span class="w">    </span>-<span class="w"> </span>ibm.power_aix
<span class="w">  </span>roles:
<span class="w">    </span>-<span class="w"> </span>power_aix_bootstrap
</pre></div>

<p>The following example demonstrates running the playbook; however, I can
see that the hosts Ansible is running against already have "python" and
"yum" installed, so there is no need for any changes to be made to these
hosts.</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>ansible-playbook<span class="w"> </span>aix_bootstrap.yml

PLAY<span class="w"> </span><span class="o">[</span>Prep<span class="w"> </span>AIX<span class="w"> </span><span class="k">for</span><span class="w"> </span>Ansible<span class="o">]</span><span class="w"> </span>******************************************************************************************************************************************************************************************************************

TASK<span class="w"> </span><span class="o">[</span>Gathering<span class="w"> </span>Facts<span class="o">]</span><span class="w"> </span>***********************************************************************************************************************************************************************************************************************
ok:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
ok:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>
ok:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>ibm.power_aix.power_aix_bootstrap<span class="w"> </span>:<span class="w"> </span>Fail<span class="w"> </span><span class="k">if</span><span class="w"> </span>pkgtype<span class="w"> </span>not<span class="w"> </span>specified<span class="o">]</span><span class="w"> </span>*********************************************************************************************************************************************************************
skipping:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span>
skipping:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
skipping:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>ibm.power_aix.power_aix_bootstrap<span class="w"> </span>:<span class="w"> </span>Fail<span class="w"> </span><span class="k">if</span><span class="w"> </span>download_dir<span class="w"> </span>not<span class="w"> </span>specified<span class="o">]</span><span class="w"> </span>****************************************************************************************************************************************************************
skipping:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span>
skipping:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
skipping:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>ibm.power_aix.power_aix_bootstrap<span class="w"> </span>:<span class="w"> </span>Fail<span class="w"> </span><span class="k">if</span><span class="w"> </span>target_dir<span class="w"> </span>not<span class="w"> </span>specified<span class="o">]</span><span class="w"> </span>******************************************************************************************************************************************************************
skipping:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span>
skipping:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
skipping:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>ibm.power_aix.power_aix_bootstrap<span class="w"> </span>:<span class="w"> </span>Fail<span class="w"> </span><span class="k">if</span><span class="w"> </span>rpm_src<span class="w"> </span>not<span class="w"> </span>specified<span class="o">]</span><span class="w"> </span>*********************************************************************************************************************************************************************
skipping:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span>
skipping:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
skipping:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>ibm.power_aix.power_aix_bootstrap<span class="w"> </span>:<span class="w"> </span>Fail<span class="w"> </span><span class="k">if</span><span class="w"> </span>yum_src<span class="w"> </span>not<span class="w"> </span>specified<span class="o">]</span><span class="w"> </span>*********************************************************************************************************************************************************************
skipping:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span>
skipping:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
skipping:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>ibm.power_aix.power_aix_bootstrap<span class="w"> </span>:<span class="w"> </span>Bootstrap<span class="w"> </span>yum<span class="o">]</span><span class="w"> </span>*************************************************************************************************************************************************************************************
included:<span class="w"> </span>/home/tholloway/.ansible/collections/ansible_collections/ibm/power_aix/roles/power_aix_bootstrap/tasks/yum_install.yml<span class="w"> </span><span class="k">for</span><span class="w"> </span>nim01,<span class="w"> </span>bruce,<span class="w"> </span>freddie

TASK<span class="w"> </span><span class="o">[</span>ibm.power_aix.power_aix_bootstrap<span class="w"> </span>:<span class="w"> </span>Check<span class="w"> </span><span class="k">for</span><span class="w"> </span>existence<span class="w"> </span>of<span class="w"> </span>yum<span class="o">]</span><span class="w"> </span>************************************************************************************************************************************************************************
changed:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
changed:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span>
changed:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>

PLAY<span class="w"> </span>RECAP<span class="w"> </span>***********************************************************************************************************************************************************************************************************************************
nim01<span class="w">                  </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">3</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">5</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
bruce<span class="w">                  </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">3</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">5</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
freddie<span class="w">                </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">3</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">5</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</pre></div>

<p>Now that the platforms meet the required minimum components, I am now
ready to automate AIX operations.</p>
<h3>Running an AIX Update using NIM and Ansible</h3>
<p>First off, I'll use a simple playbook to see what "oslevel" our NIM
master and NIM clients are on, before I start.</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>cat<span class="w"> </span>aix_oslevel_check.yml
---

-<span class="w"> </span>name:<span class="w"> </span>AIX<span class="w"> </span>oslevel<span class="w"> </span>checking<span class="w"> </span>playbook
<span class="w">  </span>hosts:<span class="w"> </span>all
<span class="w">  </span>tasks:

<span class="w">  </span>-<span class="w"> </span>name:<span class="w"> </span>Gather<span class="w"> </span>LPP<span class="w"> </span>Facts
<span class="w">    </span>shell:<span class="w"> </span><span class="s2">"oslevel -s"</span>
<span class="w">    </span>register:<span class="w"> </span>output_oslevel

<span class="w">  </span>-<span class="w"> </span>name:<span class="w"> </span>Print<span class="w"> </span>the<span class="w"> </span>oslevel
<span class="w">    </span>debug:
<span class="w">      </span>msg:<span class="w"> </span><span class="s2">"{{ ansible_hostname }} has the AIX oslevel of {{ output_oslevel.stdout }}"</span>
</pre></div>

<p>Running that playbook delivers the below result. I can see that bruce
and freddie are a service pack behind.</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>ansible-playbook<span class="w"> </span>aix_oslevel_check.yml

PLAY<span class="w"> </span><span class="o">[</span>AIX<span class="w"> </span>oslevel<span class="w"> </span>checking<span class="w"> </span>playbook<span class="w"> </span><span class="o">]</span><span class="w"> </span>*****************************************************************************************************************************************************************************************************************

TASK<span class="w"> </span><span class="o">[</span>Gathering<span class="w"> </span>Facts<span class="o">]</span><span class="w"> </span>***********************************************************************************************************************************************************************************************************************
ok:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
ok:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>
ok:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>Gather<span class="w"> </span>LPP<span class="w"> </span>Facts<span class="o">]</span><span class="w"> </span>**********************************************************************************************************************************************************************************************************************
changed:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>
changed:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
changed:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>Print<span class="w"> </span>the<span class="w"> </span>oslevel<span class="o">]</span><span class="w"> </span>*********************************************************************************************************************************************************************************************************************
ok:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span><span class="w"> </span><span class="o">=</span>&gt;
<span class="w">  </span>msg:<span class="w"> </span>nim01<span class="w"> </span>has<span class="w"> </span>the<span class="w"> </span>AIX<span class="w"> </span>oslevel<span class="w"> </span>of<span class="w"> </span><span class="m">7200</span>-05-02-2114
ok:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span><span class="w"> </span><span class="o">=</span>&gt;
<span class="w">  </span>msg:<span class="w"> </span>bruce<span class="w"> </span>has<span class="w"> </span>the<span class="w"> </span>AIX<span class="w"> </span>oslevel<span class="w"> </span>of<span class="w"> </span><span class="m">7200</span>-05-01-2038
ok:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span><span class="w"> </span><span class="o">=</span>&gt;
<span class="w">  </span>msg:<span class="w"> </span>freddie<span class="w"> </span>has<span class="w"> </span>the<span class="w"> </span>AIX<span class="w"> </span>oslevel<span class="w"> </span>of<span class="w"> </span><span class="m">7200</span>-05-01-2038

PLAY<span class="w"> </span>RECAP<span class="w"> </span>***********************************************************************************************************************************************************************************************************************************
nim01<span class="w">                  </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">3</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
bruce<span class="w">                  </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">3</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
freddie<span class="w">                </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">3</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</pre></div>

<p>To ensure all systems are operating on the same OS level, I need to
download the latest service pack. It should define an "lpp_source" on
our NIM master. Make sure that the name of the "lpp_source" matches the
example below, or the Ansible module will not detect the "oslevel".</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>cat<span class="w"> </span>aix_download.yml
---

-<span class="w"> </span>name:<span class="w"> </span>AIX<span class="w"> </span>Patching<span class="w"> </span>Playbook
<span class="w">  </span>hosts:<span class="w"> </span>nim01
<span class="w">  </span>vars:
<span class="w">    </span>oslevel:<span class="w"> </span><span class="m">7200</span>-05-02
<span class="w">    </span>nim_lpp_source:<span class="w"> </span><span class="m">7200</span>-05-02-2114-lpp_source
<span class="w">  </span>collections:
<span class="w">    </span>-<span class="w"> </span>ibm.power_aix
<span class="w">  </span>tasks:

<span class="w">  </span>-<span class="w"> </span>name:<span class="w"> </span>Download<span class="w"> </span>AIX<span class="w"> </span>Updates
<span class="w">    </span>nim_suma:
<span class="w">      </span>action:<span class="w"> </span>download
<span class="w">      </span>download_dir:<span class="w"> </span><span class="s2">"/export/nim/lpp_source"</span>
<span class="w">      </span>lpp_source_name:<span class="w"> </span><span class="s2">"{{ nim_lpp_source }}"</span>
<span class="w">      </span>oslevel:<span class="w"> </span><span class="s2">"{{ oslevel }}"</span>
<span class="w">      </span>targets:<span class="w"> </span><span class="s1">'bruce, freddie'</span>
</pre></div>

<p>Next step is to run the <em>download playbook</em>. It will download the
required updates from IBM Fix Central and define an "lpp_source" on the
NIM master:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>ansible-playbook<span class="w"> </span>aix_download.yml

PLAY<span class="w"> </span><span class="o">[</span>AIX<span class="w"> </span>Patching<span class="w"> </span>Playbook<span class="o">]</span><span class="w"> </span>*****************************************************************************************************************************************************************************************************************

TASK<span class="w"> </span><span class="o">[</span>Gathering<span class="w"> </span>Facts<span class="o">]</span><span class="w"> </span>***********************************************************************************************************************************************************************************************************************
ok:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>Download<span class="w"> </span>AIX<span class="w"> </span>Updates<span class="o">]</span><span class="w"> </span>******************************************************************************************************************************************************************************************************************
changed:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span>

PLAY<span class="w"> </span>RECAP<span class="w"> </span>***********************************************************************************************************************************************************************************************************************************
nim01<span class="w">                  </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">2</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</pre></div>

<p>Now I can run a <em>patching playbook</em>, which will make use of the
"alt_disk" and "nim" Ansible modules. The playbook is going to perform
the following tasks:</p>
<ul>
<li>Remove any existing "altinst_rootvg" "alt_disk_copy" that is left on
    the AIX system.</li>
<li>Create a new "alt_disk_copy" clone of the root volume group to a
    spare disk as a backup.</li>
<li>Run an application stop script.</li>
<li>Run the AIX update via task delegation to the NIM master.</li>
<li>Reboot.</li>
<li>Run an application start script.</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AIX Patching Playbook</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bruce,freddie</span>
<span class="w">  </span><span class="nt">vars</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nim_lpp_source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7200-05-02-2114-lpp_source</span>
<span class="w">    </span><span class="nt">nim_master</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nim01</span>
<span class="w">  </span><span class="nt">collections</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ibm.power_aix</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Cleanup any existing alt_disk_copy</span>
<span class="w">    </span><span class="nt">alt_disk</span><span class="p">:</span>
<span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">clean</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Create an alt_disk_copy for backup</span>
<span class="w">    </span><span class="nt">alt_disk</span><span class="p">:</span>
<span class="w">      </span><span class="nt">targets</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hdisk1</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Stop Application</span>
<span class="w">    </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/bin/stop.sh</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run AIX Update</span>
<span class="w">    </span><span class="nt">nim</span><span class="p">:</span>
<span class="w">      </span><span class="nt">action</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">update</span>
<span class="w">      </span><span class="nt">lpp_source</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">nim_lpp_source</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">      </span><span class="nt">targets</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">ansible_hostname</span><span class="nv"> </span><span class="s">}}"</span>
<span class="w">    </span><span class="nt">delegate_to</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">nim_master</span><span class="nv"> </span><span class="s">}}"</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Reboot</span>
<span class="w">    </span><span class="nt">reboot</span><span class="p">:</span>
<span class="w">      </span><span class="nt">post_reboot_delay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">180</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Start Application</span>
<span class="w">    </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/bin/start.sh</span>
</pre></div>

<p>Now I will run the playbook and patch the NIM client systems "bruce" and
"freddie":</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>ansible-playbook<span class="w"> </span>aix_patching.yml

<span class="w"> </span>PLAY<span class="w"> </span><span class="o">[</span>AIX<span class="w"> </span>Patching<span class="w"> </span>Playbook<span class="o">]</span><span class="w"> </span>*****************************************************************************************************************************************************************************************************************

TASK<span class="w"> </span><span class="o">[</span>Gathering<span class="w"> </span>Facts<span class="o">]</span><span class="w"> </span>***********************************************************************************************************************************************************************************************************************
ok:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
ok:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>Cleanup<span class="w"> </span>any<span class="w"> </span>existing<span class="w"> </span>alt_disk_copy<span class="o">]</span><span class="w"> </span>****************************************************************************************************************************************************************************************************
changed:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
changed:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>Create<span class="w"> </span>an<span class="w"> </span>alt_disk_copy<span class="w"> </span><span class="k">for</span><span class="w"> </span>backup<span class="o">]</span><span class="w"> </span>****************************************************************************************************************************************************************************************************
changed:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
changed:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>Stop<span class="w"> </span>Application<span class="o">]</span><span class="w"> </span>**********************************************************************************************************************************************************************************************************************
changed:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
changed:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>Run<span class="w"> </span>AIX<span class="w"> </span>Update<span class="o">]</span><span class="w"> </span>*************************************************************************************************************************************************************************************************************************
changed:<span class="w"> </span><span class="o">[</span>bruce<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.0.0.5<span class="o">]</span>
changed:<span class="w"> </span><span class="o">[</span>freddie<span class="w"> </span>-&gt;<span class="w"> </span><span class="m">10</span>.0.0.5<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>Reboot<span class="o">]</span><span class="w"> </span>********************************************************************************************************************************************************************************************************************************
changed:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>
changed:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>Start<span class="w"> </span>Application<span class="o">]</span><span class="w"> </span>*********************************************************************************************************************************************************************************************************************
changed:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
changed:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>

PLAY<span class="w"> </span>RECAP<span class="w"> </span>***********************************************************************************************************************************************************************************************************************************
bruce<span class="w">                 </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">7</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">6</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
freddie<span class="w">               </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">7</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">6</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</pre></div>

<p>Next, I will run the aix_oslevel_check.yml playbook again and see that
the systems are all on AIX 7.2 TL5 SP2.</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>ansible-playbook<span class="w"> </span>aix_oslevel_check.yml

PLAY<span class="w"> </span><span class="o">[</span>AIX<span class="w"> </span>oslevel<span class="w"> </span>checking<span class="w"> </span>playbook<span class="w"> </span><span class="o">]</span><span class="w"> </span>*****************************************************************************************************************************************************************************************************************

TASK<span class="w"> </span><span class="o">[</span>Gathering<span class="w"> </span>Facts<span class="o">]</span><span class="w"> </span>***********************************************************************************************************************************************************************************************************************
ok:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
ok:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>
ok:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>Gather<span class="w"> </span>LPP<span class="w"> </span>Facts<span class="o">]</span><span class="w"> </span>**********************************************************************************************************************************************************************************************************************
changed:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span>
changed:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span>
changed:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span>

TASK<span class="w"> </span><span class="o">[</span>Print<span class="w"> </span>the<span class="w"> </span>oslevel<span class="o">]</span><span class="w"> </span>*********************************************************************************************************************************************************************************************************************
ok:<span class="w"> </span><span class="o">[</span>nim01<span class="o">]</span><span class="w"> </span><span class="o">=</span>&gt;
<span class="w">  </span>msg:<span class="w"> </span>nim01<span class="w"> </span>has<span class="w"> </span>the<span class="w"> </span>AIX<span class="w"> </span>oslevel<span class="w"> </span>of<span class="w"> </span><span class="m">7200</span>-05-02-2114
ok:<span class="w"> </span><span class="o">[</span>bruce<span class="o">]</span><span class="w"> </span><span class="o">=</span>&gt;
<span class="w">  </span>msg:<span class="w"> </span>bruce<span class="w"> </span>has<span class="w"> </span>the<span class="w"> </span>AIX<span class="w"> </span>oslevel<span class="w"> </span>of<span class="w"> </span><span class="m">7200</span>-05-02-2114
ok:<span class="w"> </span><span class="o">[</span>freddie<span class="o">]</span><span class="w"> </span><span class="o">=</span>&gt;
<span class="w">  </span>msg:<span class="w"> </span>freddie<span class="w"> </span>has<span class="w"> </span>the<span class="w"> </span>AIX<span class="w"> </span>oslevel<span class="w"> </span>of<span class="w"> </span><span class="m">7200</span>-05-02-2114

PLAY<span class="w"> </span>RECAP<span class="w"> </span>***********************************************************************************************************************************************************************************************************************************
nim01<span class="w">                  </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">3</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
bruce<span class="w">                  </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">3</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
freddie<span class="w">                </span>:<span class="w"> </span><span class="nv">ok</span><span class="o">=</span><span class="m">3</span><span class="w">    </span><span class="nv">changed</span><span class="o">=</span><span class="m">1</span><span class="w">    </span><span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">failed</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">skipped</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">rescued</span><span class="o">=</span><span class="m">0</span><span class="w">    </span><span class="nv">ignored</span><span class="o">=</span><span class="m">0</span>
</pre></div>

<h3>Conclusion</h3>
<p>As you can see from this example, Ansible provides a lot of value in
automating AIX operations. For additional information, see the
documentation for the supported Collection available from
<a href="https://cloud.redhat.com/ansible/automation-hub/repo/published/ibm/power_aix">Automation Hub</a>.
This Collection is also available to the community from
<a href="https://galaxy.ansible.com/ibm/power_aix">Ansible Galaxy</a>.</p>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="bullhorn-29/" class="u-url">Bullhorn #29</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/ansible-collaborative-et-al/">Ansible Collaborative, et al</a>
              </span>
            </p>
            <p class="dateline">
              <a href="bullhorn-29/" rel="bookmark">
                <time class="published dt-published" datetime="2021-07-01T20:30:00Z" itemprop="datePublished" title="2021-07-01 20:30">2021-07-01 20:30</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <div>
<p><img alt="Ansible Bullhorn banner" src="../images/bullhorn-banner-mango.png"></p>
<h3>The Bullhorn</h3>
<p><em>A Newsletter for the Ansible Developer Community</em>
<em>Issue #29, 2021-07-01 (<a href="https://us19.campaign-archive.com/home/?u=56d874e027110e35dea0e03c1&amp;id=d6635f5420">Past Issues</a>)</em></p>
<p>Welcome to the Bullhorn, our newsletter for the Ansible developer community. If you have any questions or content you’d like to share, please reach out to us at the-bullhorn@redhat.com, or comment on this <a href="https://github.com/ansible/community/issues/546">GitHub issue</a>.</p>
</div>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="using-vmware-vcenter-tags-in-a-red-hat-ansible-tower-dynamic-inventory/" class="u-url">Using VMware vCenter Tags in a Red Hat Ansible Tower Dynamic Inventory</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/raed-soliman/">Raed Soliman</a>
              </span>
            </p>
            <p class="dateline">
              <a href="using-vmware-vcenter-tags-in-a-red-hat-ansible-tower-dynamic-inventory/" rel="bookmark">
                <time class="published dt-published" datetime="2021-06-22T00:00:00Z" itemprop="datePublished" title="2021-06-22 00:00">2021-06-22 00:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <h2>Using VMware vCenter Tags in a Red Hat Ansible Tower Dynamic Inventory</h2>
<p>VMware vCenter Server tags are labels that can be applied to objects
like the system's environment and usage, therefore it is a very useful
method of asset management - also making tags a perfect fit in the
Ansible world to organize systems in an Ansible inventory. Red Hat
customers have regularly requested the ability to use vCenter Tags in
Red Hat Ansible Tower. This is now possible with an Ansible Tower
inventory source that supports tags and provides the
<a href="https://docs.ansible.com/ansible/latest/collections/community/vmware/vmware_vm_inventory_inventory.html">vmware_vm_inventory</a>
plugin.</p>
<p>Ansible Automation Platform 1.2 brings completely native Ansible
inventory plugin support to Ansible Tower 3.8. In previous versions,
there were specific inventory plugin configurations based on the old
inventory scripts where a specific set of parameters surfaced in Ansible
Tower's user interface. For example: cloud region and a specific subset
of variables you could pass to those inventory scripts surfaced as
variables you could pass to the inventory source, which means that new
configuration parameters that come with Ansible inventory plugins are
not supported in order to maintain compatibility with the old inventory
scripts. </p>
<p>The move to support native inventory plugins allows Red Hat Ansible
Automation Platform customers to use all the configuration parameters
available through the plugin, as well as supporting any future new
plugin features automatically.</p>
<p>So as an example, the screenshot below shows the source configuration
panel difference between an older version of Ansible Tower (3.7 in this
case) and the new source configuration in Ansible Tower 3.8. This
specific example is for an Amazon EC2 source in Ansible Tower 3.8:</p>
<p><img alt="vcenter tags blog one" src="../images/posts/archive/vcenter-blog-one.png"></p>
<p>As you can see, the "Instance Filters" and "Regions" configuration
options are no longer a part of the user interface in Ansible Tower 3.8,
but the configuration can now be done in the "Source Variables" section
of the inventory source definition. This Ansible Tower instance was
actually upgraded from 3.7 to 3.8, and during the upgrade, the platform
installer takes old inventory sources and converts them to a compatible
inventory plugin configuration - therefore there will be a lot of
entries in the section to maintain the same outcome for upgraded
sources - groups created by default for example - as the old inventory
scripts.</p>
<p>Pretty exciting stuff!</p>
<h2>Environment Setup</h2>
<p>So the
<a href="https://docs.ansible.com/ansible/latest/collections/community/vmware/vmware_vm_inventory_inventory.html">vmware_vm_inventory</a>
plugin supports tags using a configuration parameter -
<a href="https://docs.ansible.com/ansible/latest/collections/community/vmware/vmware_vm_inventory_inventory.html#parameter-with_tags">with_tags</a> -
which defaults to false - so we will need to set that to true in our
source definition, but as stated in the documentation linked above,
using this parameter requires the <strong>vSphere Automation SDK</strong> library to
be installed on the controller machine - in our case, the Ansible Tower
nodes. The documentation also links to this
<a href="https://code.vmware.com/web/sdk/7.0/vsphere-automation-python">URL</a> for
the installation steps.</p>
<p>For this example, we will be using six VMs that were created:</p>
<table>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Tags</th>
</tr></thead>
<tbody>
<tr>
<td>testvm_1</td>
<td>RHEL7</td>
<td>Dev, TestVM, Linux</td>
</tr>
<tr>
<td>testvm_2</td>
<td>RHEL7</td>
<td>Prod, TestVM, Linux</td>
</tr>
<tr>
<td>testvm_3</td>
<td>RHEL8</td>
<td>Dev, TestVM, Linux</td>
</tr>
<tr>
<td>testvm_4</td>
<td>RHEL8</td>
<td>Prod, TestVM, Linux</td>
</tr>
<tr>
<td>testvm_5</td>
<td>Win2019</td>
<td>Dev, TestVM, Windows</td>
</tr>
<tr>
<td>testvm_6</td>
<td>Win2019</td>
<td>Prod, TestVM, Windows</td>
</tr>
</tbody>
</table>
<p>First step is to make sure that our Ansible Tower nodes have the
required library to use this feature. As we can use an inventory source
with a custom python virtual environment, we will create a new python
virtual environment under <code>/opt/towervenvs</code> called <code>vmware-venv</code>, and will
be installing the required libraries in that environment (you can read
more about Ansible Tower's virtual environments and how to use them in the
<a href="https://docs.ansible.com/ansible-tower/latest/html/upgrade-migration-guide/virtualenv.html">documentation</a>).</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>sudo<span class="w"> </span>/opt/towervenvs/vmware-venv/bin/pip3<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip<span class="w"> </span>setuptools
$<span class="w"> </span>sudo<span class="w"> </span>/opt/towervenvs/vmware-venv/bin/pip3<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w">  </span>git+https://github.com/vmware/vsphere-automation-sdk-python.git
</pre></div>

<p>Make sure that the virtual environment and the required libraries are
installed on all nodes in the Ansible Tower cluster, and that Ansible
Tower is configured to look for virtual environments under the directory
they are defined in. This setting can be found under
<strong>Settings &gt; System &gt; CUSTOM VIRTUAL ENVIRONMENT PATHS</strong></p>
<p><img alt="vcenter tags blog two" src="../images/posts/archive/vcenter-blog-two.png"></p>
<p>Next, we need to configure a credential for vCenter that Ansible Tower
will use when syncing the inventory. </p>
<p>In Ansible Tower, from the left hand panel under resources select
"Credentials" and click the add icon and add a new credential. In the
new credential configuration panel, enter a name for your new credential
and choose "VMware vCenter" as the credential type and fill in the
required information - here is what the credential definition looks
like:</p>
<p><img alt="vcenter tags blog three" src="../images/posts/archive/vcenter-blog-three.png"></p>
<h2>Creating the dynamic inventory source in Ansible Tower</h2>
<p>Now it's time to create the inventory. In Ansible Tower, from the left
hand panel under resources, select "Inventories" and click the add icon
and add a new inventory. Give the inventory a name and select an
organization for the inventory - we'll call ours "VMware
Inventory", and assign it to Red Hat Organization.</p>
<p><img alt="vcenter tags blog four" src="../images/posts/archive/vcenter-blog-four.png"></p>
<p>Click "Save" and the sources tab is now enabled. Now go to the sources
tab, click the add icon to add a new source - Give it a name, and choose
VMware vCenter as the source, and choose the credential that we created
earlier (the credential may already be auto populated if it's the only
credential of the type "VMware vCenter" defined), and make sure to
select the virtual environment that has the required library installed
under it.</p>
<p>Under source variables we will add the following and click save:</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">community.vmware.vmware_vm_inventory</span>
<span class="nt">hostnames</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="s">'config.name'</span>
<span class="nt">properties</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">name</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">network</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">overallStatus</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">value</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">capability</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">config</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">guest</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">runtime</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">summary</span>
<span class="nt">with_nested_properties</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">with_tags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>

<p><img alt="vcenter tags blog five" src="../images/posts/archive/vcenter-blog-five.png"></p>
<p>Our new inventory source is now created and will appear under sources
Let's now click on the sync icon to pull in our list of virtual machines
(VMs). After the sync job completes, and the cloud icon next to the
source turns green, we can now go into the list of hosts and see all the
hosts that are in vCenter, and if we click on any of the hosts we can
see the associated tags under the "tags" key. Awesome!</p>
<p><img alt="vcenter tags blog six" src="../images/posts/archive/vcenter-blog-six.png"></p>
<p><img alt="vcenter tags blog seven" src="../images/posts/archive/vcenter-blog-seven.png"></p>
<h2>Creating inventory groups based on tags</h2>
<p>The previous configuration will pull in all the hosts in vCenter with
their associated tags, and the guest attributes we defined based on what
is available in the inventory plugin's documentation. But we only want
to pull in VMs that have the tag "TestVM", and we want to create groups
based on the tags associated with the VMs that are imported, their power
state and their guest ID. So let's add some filters, as well as some
keyed groups definition. Go back to the inventory source we defined, and
replace the definition under source variables with the following:</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">community.vmware.vmware_vm_inventory</span>
<span class="nt">hostnames</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="s">'config.name'</span>
<span class="nt">properties</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">name</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">network</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">overallStatus</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">value</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">capability</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">config</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">guest</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">runtime</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">summary</span>
<span class="nt">with_nested_properties</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">with_tags</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">keyed_groups</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tags</span>
<span class="w">  </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">"vm_tag_"</span>
<span class="w">  </span><span class="nt">separator</span><span class="p">:</span><span class="w"> </span><span class="s">""</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">config.guestId</span>
<span class="w">  </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">''</span>
<span class="w">  </span><span class="nt">separator</span><span class="p">:</span><span class="w"> </span><span class="s">''</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">summary.runtime.powerState</span>
<span class="w">  </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">''</span>
<span class="w">  </span><span class="nt">separator</span><span class="p">:</span><span class="w"> </span><span class="s">''</span>
<span class="nt">filters</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="s">"'TestVM'</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">tags"</span>
</pre></div>

<p>And refresh the inventory source again.</p>
<p>And just like that, we have a list of only the hosts that are tagged
with TestVM, as well as groups created based on the tags defined in
vCenter.</p>
<p><img alt="vcenter tags blog eight" src="../images/posts/archive/vcenter-blog-eight.png"></p>
<p><img alt="vcenter tags blog nine" src="../images/posts/archive/vcenter-blog-nine.png"></p>
<p>The new native Ansible inventory plugin support may upgrade the level of
difficulty, as you will have to know how to configure the inventory
plugin you want to use, but it gives users a lot of flexibility.</p>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="automation-savings-planner/" class="u-url">Automation Savings Planner</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/roger-lopez/">Roger Lopez</a>
              </span>
            </p>
            <p class="dateline">
              <a href="automation-savings-planner/" rel="bookmark">
                <time class="published dt-published" datetime="2021-06-14T00:00:00Z" itemprop="datePublished" title="2021-06-14 00:00">2021-06-14 00:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <h2>Automation Savings Planner</h2>
<p>Enterprise organizations understand that to be leaders in their
industries, they must change the way they deliver applications, improve
their relationships with customers and gain competitive advantages.</p>
<p>Positioning those advantages to have a positive return on investment
often starts with proper planning and automation.
But what does proper planning of your automation even look like?</p>
<p>For some enterprises, proper planning includes reducing automation
costs. For others, it's reducing time spent to open new opportunities.</p>
<p>With this in mind, Red Hat is excited to introduce Automation Savings
Planner, a new enhancement that puts
automation planning in the forefront within the hosted services on
<em>console.redhat.com</em>.</p>
<p>The Automation Savings Planner is designed to provide a one stop shop to
plan, track and analyze potential efficiency improvements and cost
savings of your automation initiatives.</p>
<h3>How does it work?</h3>
<p>Users can create an automation savings plan within Automation Analytics
accessible at <a href="https://cloud.redhat.com">cloud.redhat.com</a> by defining how long and often the work is done
manually, as well as a list of tasks needed to successfully automate
this job.</p>
<p>Once defined, you can integrate your newly automated savings plans to
automation controller's job templates to help accurately detect if the
automation is successfully running across your infrastructure. You can
also view projected cost and time savings from automating the job over
time.</p>
<p>With these enhancements, you get a detailed overview on how to optimize
and prioritize the various automation jobs throughout your organization,
based on time and money saved. This allows you to decide what things are
most important to automate first.</p>
<h3>Ready to start saving? Let's get started!</h3>
<p>The first step is to create an automation savings plan that defines the
tasks needed to complete an automation job. </p>
<p>First in the side navigation in Automation Analytics, select the
<strong>Savings Planner</strong> navigation item. Then, click on the blue button
labeled <strong>Add plan</strong>.</p>
<p><img alt="ROI blog one" src="../images/posts/archive/roi-blog-one.png"></p>
<p>Within the <strong>Create new plan</strong> section, fill out the details for the
task you want to automate. The questions include:</p>
<ul>
<li>What do you want to automate? (e.g., Provision an Apache server)</li>
<li>What type of task is it? (e.g., Operating System)</li>
<li>A description of your automation plan</li>
<li>How long does the process take to complete manually? (e.g., 4 hours)</li>
<li>How many hosts do you plan to run the automation on? (e.g., 1)</li>
<li>How often do you plan to run the automation? (e.g., weekly)</li>
</ul>
<p><img alt="ROI blog two" src="../images/posts/archive/roi-blog-two.png"></p>
<p>Once you've completed the <strong>Details</strong> section, select the blue <strong>Next</strong>
button on the lower left pane of the window.</p>
<p>Within the <strong>Tasks</strong> section, list out all the tasks that are needed to
complete this plan. Write out each task and select the (+) to add it to
your <strong>Tasks</strong> list. </p>
<p>For example, if we were looking to successfully install an Apache web
server, we'd likely include tasks such as:</p>
<ul>
<li>Install Apache package</li>
<li>Start HTTPD service</li>
<li>Enable HTTPD service</li>
<li>Enable firewall port 80</li>
<li>Configure VirtualHost</li>
<li>Secure Apache web server</li>
</ul>
<p><img alt="ROI blog three" src="../images/posts/archive/roi-blog-three.png"></p>
<p>Once you've completed the <strong>Tasks</strong> section for your specific plan,
select <strong>Next</strong>. </p>
<p><strong>NOTE:</strong> These tasks are for your planning purposes, and do not
currently factor into the savings estimates provided by Automation
Analytics.</p>
<p>Lastly, within the <strong>Link template</strong> section, select the appropriate
template to link to this plan and click <strong>Save</strong>. </p>
<p>Once saved, you can view the newly created plan details. </p>
<p><img alt="ROI blog four" src="../images/posts/archive/roi-blog-four.png"></p>
<p>In this <strong>Details</strong> view you will find a summary of all the options
created and selected for your plan. </p>
<p>If you notice something is amiss, you can easily make changes to your
plan using the <strong>Edit</strong> button located at the bottom left corner of the
<strong>Details</strong> section. </p>
<h3>And that's it!</h3>
<p>With this newly created plan we can use Automation Savings Planner to
share a projection of how much time and money you could save by
automating a specific job. Automation Analytics takes data from the plan
details and the associated job template to provide you with an accurate
projection of your cost savings when you complete this savings plan.</p>
<h3>Where can I find these stats?</h3>
<p>Simply navigate to your Automation Savings Planner page, click on the
name of an existing plan and navigate to the <strong>Statistics</strong> tab. You can
also get to this screen by clicking the "Projected Savings" links in the
card-based list of savings plans.</p>
<p>The statistics chart displays a projection of your monetary and time
savings based on the information you provided when creating a savings
plan. Primarily, the statistics chart subtracts the automated cost from
the manual cost of executing the plan to provide the total resources
saved through automation. The chart then displays this data by year to
show you the cumulative benefits for automating the plan over time.</p>
<p>Click between <strong>Money</strong> and <strong>Time</strong> to view the different types of
savings for automating the plan. An example is shown below.</p>
<p><img alt="ROI blog five" src="../images/posts/archive/roi-blog-five.png"></p>
<h3>How are the Money and Time values determined?</h3>
<p>Risk-adjusted factors are used to create a 3-year model projection of
costs and savings related to automation. The objective is to provide as
accurate a representation of cost and savings as possible but understand
that actual values may differ in practice.</p>
<p>The following information breaks down:</p>
<ul>
<li>where we get the data</li>
<li>the risk-adjustment factors we use</li>
<li>the assumptions we make</li>
<li>the formula used to compute the values as displayed in the chart</li>
</ul>
<p>The cost portion of the formula includes hours spent in</p>
<ul>
<li>Implementation</li>
<li>Deployment</li>
<li>Training</li>
<li>Other expenditures for creating, maintaining &amp; running the automation</li>
</ul>
<p>The hours (cost of investment) are typically higher on the onset and are
greatly reduced once the automation has been created and only
maintenance is required. </p>
<p>For the initial period (including the first year), the formula uses the
following variables for its calculation.</p>
<ul>
<li>TIME - time for manual run on one host (in hours) multiplied by 10</li>
<li>BufferTime -extra time for unforeseen and unaccounted delays and familiarization with requirements</li>
<li>RISK - a 40% risk adjustment¹ is applied for unforeseen situations</li>
</ul>
<p>The formula for the initial period and first year is represented as
follows:</p>
<div class="code"><pre class="code literal-block">C1 = TIME + BufferTime

C2 = C1 <span class="gs">* RISK</span>

<span class="gs">initial cost = (C1 + C2) *</span> COST

year 1 cost = (C1 + C2) * COST²
</pre></div>

<p>The next two years after the first year, the formula uses the following
variables for its calculation. </p>
<ul>
<li>TIME - time for manual run on one host (in hours) multiplied by 4</li>
<li>RISK - a 40% risk adjustment¹ to account for unforeseen situations</li>
</ul>
<p>The formula for the next two years is represented as follows:</p>
<div class="code"><pre class="code literal-block">C1 = TIME

C2 = C1 <span class="gs">* RISK</span>

<span class="gs">year 2 cost = (C1 + C2) *</span> COST²

year 3 cost = (C1 + C2) * COST²
</pre></div>

<p>With the details on how cost is calculated for the plan, let's talk about savings.</p>
<p>The savings indicates the time and money saved as a result of automating the plan. </p>
<p>A 50% productivity recapture rate is taken to account for the
productivity that is gained by repeated manual implementation of a task
over a period of time. Included is a -5% risk adjustment for unforeseen
situations that may arise and need to be handled.</p>
<p>A savings growth rate of 15% year over year is used. </p>
<p>The initial period of money savings results in $0. As such no formula
is necessary for that period. </p>
<p>The formula to calculate savings for the initial period is shown below:</p>
<div class="code"><pre class="code literal-block">Initial period of Savings = $0 - initialCost

The  formula used for savings for year one are:

S1 = (HOSTS <span class="gs">* (TIME/60) *</span> FREQUENCY)

S2 = S1 <span class="gs">* RECAPTURE</span>

<span class="gs">S3 = S2 *</span> RISK * COST²

Year One Savings = S2 - S3 - Year One Cost
</pre></div>

<ul>
<li>HOSTS - number of hosts</li>
<li>TIME - manual time in minutes</li>
<li>FREQUENCY - yearly frequency of automation</li>
<li>RECAPTURE - 50% productivity recapture</li>
<li>RISK - 5% Risk Adjustment</li>
</ul>
<p>The formula used to capture savings for year two:</p>
<div class="code"><pre class="code literal-block">S1 = Year One Savings <span class="gs">* GROWTH</span>

<span class="gs">Year Two Savings = Year One Savings  + S1 - Year 2 Cost</span>

<span class="gs">GROWTH - 15% Growth</span>

<span class="gs">The formula used to capture savings for year three:</span>

<span class="gs">S2 = Year Two Savings *</span> GROWTH

Year Three Savings = Year Two Savings + S2 -Year 2 Cost
</pre></div>

<p>And there you have it! The inner workings of how money and savings are
calculated to give you the projected savings of automating tasks your
organization is currently doing manually.</p>
<p>By using Automation Savings Planner, enterprise organizations can gain
competitive advantages and a positive return on their investments by
automating key elements of their business. This not only saves time and
money, but allows businesses to expand their automation capabilities to
deliver applications, meet expectations and improve their relationships
with their customers. </p>
<p>¹ <a href="https://www.redhat.com/rhdc/managed-files/ma-forrester-ansible-economic-impact-analyst-paper-f13019bf-201808-en_0.pdf">A Forrester Total Economic Impact™ Study</a></p>
<p>² Cost per hour in USD if applicable, based on display.</p>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="bullhorn-28/" class="u-url">Bullhorn #28</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/ansible-collaborative-et-al/">Ansible Collaborative, et al</a>
              </span>
            </p>
            <p class="dateline">
              <a href="bullhorn-28/" rel="bookmark">
                <time class="published dt-published" datetime="2021-06-11T18:00:00Z" itemprop="datePublished" title="2021-06-11 18:00">2021-06-11 18:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <div>
<p><img alt="Ansible Bullhorn banner" src="../images/bullhorn-banner-mango.png"></p>
<h3>The Bullhorn</h3>
<p><em>A Newsletter for the Ansible Developer Community</em>
<em>Issue #28, 2021-06-11 (<a href="https://us19.campaign-archive.com/home/?u=56d874e027110e35dea0e03c1&amp;id=d6635f5420">Past Issues</a>)</em></p>
<p>Welcome to the Bullhorn, our newsletter for the Ansible developer community. If you have any questions or content you’d like to share, please reach out to us at the-bullhorn@redhat.com, or comment on this <a href="https://github.com/ansible/community/issues/546">GitHub issue</a>.</p>
</div>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="ansible-community-steering-committee/" class="u-url">Ansible Community Steering Committee</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/the-ansible-community-team/">The Ansible Community Team</a>
              </span>
            </p>
            <p class="dateline">
              <a href="ansible-community-steering-committee/" rel="bookmark">
                <time class="published dt-published" datetime="2021-06-01T00:00:00Z" itemprop="datePublished" title="2021-06-01 00:00">2021-06-01 00:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <h2>Ansible Community Steering Committee</h2>
<p>As we all know, Ansible is a well-adapted tool for the end-to-end
automation of IT infrastructures. At the same time, due to the addition
of new features and developments within the project, the Ansible
community is growing at an accelerated rate. To help structure the
project and also to facilitate the change in direction, we are launching
a <strong>Steering Committee</strong> for the <em>Ansible Community Project</em>.</p>
<p>The Steering Committee's role is to provide guidance, suggestions, and
ensure delivery of the Ansible Community package. The committee shall be
broadly representative of the planning and approval areas.</p>
<p>The initial Steering Committee members, selected based on their wide
knowledge of and active contributions to the Ansible project, are:</p>
<ul>
<li>Toshio Kuratomi (abadger1999)</li>
<li>Felix Fontein (felixfontein)</li>
<li>Tadej Borovšak (tadeboro)</li>
<li>James Cassell (cyberpear)</li>
<li>John Barker (gundalow)</li>
<li>Andrew Klychkov (andersson007_)</li>
<li>Alicia Cozine (acozine)</li>
<li>Sorin Sbarnea (zbr)</li>
<li>Jill Rouleau (jillr)</li>
<li>Brad Thornton (cidrblock)</li>
<li>Dylan Silva (thaumos)</li>
</ul>
<p>Members of the committee will work with community users plus Ansible
teams within Red Hat to assist in the composition of idea proposals/new
collection inclusion requests. Rather than advocating on behalf of
particular interests or perspectives, the job of the Steering Committee
members is to listen carefully to their fellow community members,
discuss, train, guide, and help them shape the Ansible Upstream Project
in the best possible direction for the community.</p>
<p>Here are the current responsibilities of Ansible Community Steering
Committee members:</p>
<ul>
<li>Design policies and procedures for the collection world.</li>
<li>Review content (collections for now) for compliance with the
    policies.</li>
<li>Help create the community deliverables (community.general
    collection, community.network collection, the ansible-tarball,
    community documentation website).</li>
<li>Ballot on approval of new proposals and changes to policies.</li>
<li>Identify and train individuals from the community who are interested
    in contributing to Ansible.</li>
</ul>
<h3>Be a catalyst for the Ansible Community</h3>
<p>We encourage all Ansible users to participate in the public Ansible
Community Meeting that occurs weekly in the #ansible-community IRC
channel on libera.chat every
<a href="https://raw.githubusercontent.com/ansible/community/master/meetings/ical/community.ics">Wednesday at 18:00 UTC</a>. </p>
<p>In addition, we used a GitHub issue -
<a href="https://github.com/ansible/community/issues/539">Community Working Group Meeting Agenda</a> - earlier on to
track agenda topics for discussions in the weekly Ansible Community IRC meetings
Going forward, to track and categorize each topic separately, we've
created a new GitHub repository
<a href="https://github.com/ansible-community/community-topics">community-topics</a>.
To discuss an idea, suggest improvements, or submit new
Policies/Proposals and New Collection Inclusion Requests, you will
create a <a href="https://github.com/ansible-community/community-topics/issues/new">new issue</a>
in the <a href="https://github.com/ansible-community/community-topics">repo</a> as
a topic, and it'll be discussed publicly in the weekly IRC meeting.
After every meeting, the meeting minutes/summaries and meeting logs will
be posted to the <a href="https://github.com/ansible/community/issues/539">original issue</a>.</p>
<p>The Steering Committee will afford all interested persons an opportunity
to contribute and review, and will also afford all interested persons an
opportunity to speak on any idea during the meeting.</p>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="bullhorn-27/" class="u-url">Bullhorn #27</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/ansible-collaborative-et-al/">Ansible Collaborative, et al</a>
              </span>
            </p>
            <p class="dateline">
              <a href="bullhorn-27/" rel="bookmark">
                <time class="published dt-published" datetime="2021-05-27T23:00:00Z" itemprop="datePublished" title="2021-05-27 23:00">2021-05-27 23:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <div>
<p><img alt="Ansible Bullhorn banner" src="../images/bullhorn-banner-mango.png"></p>
<h3>The Bullhorn</h3>
<p><em>A Newsletter for the Ansible Developer Community</em>
<em>Issue #27, 2021-05-27 (<a href="https://us19.campaign-archive.com/home/?u=56d874e027110e35dea0e03c1&amp;id=d6635f5420">Past Issues</a>)</em></p>
<p>Welcome to the Bullhorn, our newsletter for the Ansible developer community. If you have any questions or content you’d like to share, please reach out to us at the-bullhorn@redhat.com, or comment on this <a href="https://github.com/ansible/community/issues/546">GitHub issue</a>.</p>
</div>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="bullhorn-26/" class="u-url">Bullhorn #26</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/ansible-collaborative-et-al/">Ansible Collaborative, et al</a>
              </span>
            </p>
            <p class="dateline">
              <a href="bullhorn-26/" rel="bookmark">
                <time class="published dt-published" datetime="2021-05-13T21:00:00Z" itemprop="datePublished" title="2021-05-13 21:00">2021-05-13 21:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <div>
<p><img alt="Ansible Bullhorn banner" src="../images/bullhorn-banner-mango.png"></p>
<h3>The Bullhorn</h3>
<p><em>A Newsletter for the Ansible Developer Community</em>
<em>Issue #26, 2021-05-13 (<a href="https://us19.campaign-archive.com/home/?u=56d874e027110e35dea0e03c1&amp;id=d6635f5420">Past Issues</a>)</em></p>
<p>Welcome to the Bullhorn, our newsletter for the Ansible developer community. If you have any questions or content you’d like to share, please reach out to us at the-bullhorn@redhat.com, or comment on this <a href="https://github.com/ansible/community/issues/546">GitHub issue</a>.</p>
</div>
          </div>
      </article><br><hr>
<br><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title">
            <a href="ansible-network-resource-purge-parameter/" class="u-url">Ansible Network Resource Purge parameter</a>
          </h1>
          <div class="metadata">
            <p class="byline author vcard">
              <span class="byline-name fn" itemprop="author">
                  <a href="../authors/sean-cavanaugh/">Sean Cavanaugh</a>
              </span>
            </p>
            <p class="dateline">
              <a href="ansible-network-resource-purge-parameter/" rel="bookmark">
                <time class="published dt-published" datetime="2021-05-10T00:00:00Z" itemprop="datePublished" title="2021-05-10 00:00">2021-05-10 00:00</time></a>
            </p>
          </div>
        </header><div class="p-summary entry-summary">
            <h2>Ansible Network Resource Purge parameter</h2>
<p>Red Hat Ansible Network Automation continues to be a popular domain for
Red Hat Ansible Automation Platform. We have continually developed
additional <a href="https://docs.ansible.com/ansible/latest/network/user_guide/network_resource_modules.html">resource modules</a>
to make automating network appliances easier, and more approachable, for
novices and experts alike. These resource modules provide a consistent
experience across multiple network vendors. There are seven
main state parameters for resource modules: merged, replaced,
overridden, deleted, gathered, rendered and parsed. The Ansible network
team is adding one more parameter, purged, to this tool chest for
resource modules. This blog will cover the purged parameter and show
use-cases through a practical example.</p>
<p><img alt="network purge blog one" src="../images/posts/archive/network-purge-blog-one.png"></p>
<p>For this example, we will be using two BGP resource modules to configure
a Cisco network device. We will be using the <code>bgp_global</code> module
and the <code>bgp_address_family</code> module. The BGP configuration is split
between these two separate modules to simplify configuration and data
models associated with them.</p>
<p>Let's start with a data model:</p>
<div class="code"><pre class="code literal-block"><span class="nt">bgp_global</span><span class="p">:</span>
<span class="w">    </span><span class="nt">as_number</span><span class="p">:</span><span class="w"> </span><span class="s">'65000'</span>
<span class="w">    </span><span class="nt">bgp</span><span class="p">:</span>
<span class="w">        </span><span class="nt">log_neighbor_changes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">router_id</span><span class="p">:</span>
<span class="w">            </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.1.1</span>
<span class="w">    </span><span class="nt">neighbor</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">activate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.200.200.2</span>
<span class="w">        </span><span class="nt">remote_as</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">65001</span>
<span class="nt">bgp_address_family</span><span class="p">:</span>
<span class="w">    </span><span class="nt">address_family</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">afi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ipv4</span>
<span class="w">        </span><span class="nt">neighbor</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">activate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">            </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.200.200.2</span>
<span class="w">        </span><span class="nt">network</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.25.25.0</span>
<span class="w">            </span><span class="nt">mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">255.255.255.0</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.25.26.0</span>
<span class="w">            </span><span class="nt">mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">255.255.255.0</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.100.100.0</span>
<span class="w">            </span><span class="nt">mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">255.255.255.0</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.200.200.0</span>
<span class="w">            </span><span class="nt">mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">255.255.255.0</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.16.0.0</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.1.1</span>
<span class="w">            </span><span class="nt">mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">255.255.255.255</span>
<span class="w">    </span><span class="nt">as_number</span><span class="p">:</span><span class="w"> </span><span class="s">'65000’</span>
</pre></div>

<p><strong>NOTE</strong>: If you are new to resource modules, you can quickly create
these data models by using the <a href="https://github.com/network-automation/purge_blog_post/blob/main/playbooks/gather_ios_bgp.yaml">state: gathered</a>
parameter to read in a brown-field (already configured) network devices
and save that configuration to structured data (e.g. YAML) </p>
<p>We can push this data model configuration to our Cisco network device
very easily with a simple Ansible Playbook:</p>
<div class="code"><pre class="code literal-block"><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">configure BGP for blog</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Use the bgp_global resource module</span>
<span class="w">    </span><span class="nt">cisco.ios.ios_bgp_global</span><span class="p">:</span>
<span class="w">      </span><span class="nt">config</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">bgp_global</span><span class="nv"> </span><span class="s">}}"</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Use the bgp_address_family</span>
<span class="w">    </span><span class="nt">cisco.ios.ios_bgp_address_family</span><span class="p">:</span>
<span class="w">      </span><span class="nt">config</span><span class="p">:</span><span class="w"> </span><span class="s">"{{</span><span class="nv"> </span><span class="s">bgp_address_family</span><span class="nv"> </span><span class="s">}}</span>
</pre></div>

<p>You can copy this playbook directly from
<a href="https://github.com/network-automation/purge_blog_post/blob/main/playbooks/merge_ios_bgp.yaml">Github</a> </p>
<p>To execute the playbook:</p>
<div class="code"><pre class="code literal-block">ansible-playbook<span class="w"> </span>merge_ios_bgp.yaml
</pre></div>

<p>The output will look similar to the following:</p>
<p><img alt="network purge blog two" src="../images/posts/archive/network-purge-blog-two.png"></p>
<p>Finally let's look at the generated configuration on our Cisco IOS network device:</p>
<div class="code"><pre class="code literal-block">rtr1#sh<span class="w"> </span>run<span class="w"> </span><span class="p">|</span><span class="w"> </span>s<span class="w"> </span>router<span class="w"> </span>bgp
router<span class="w"> </span>bgp<span class="w"> </span><span class="m">65000</span>
<span class="w"> </span>bgp<span class="w"> </span>router-id<span class="w"> </span><span class="m">192</span>.168.1.1
<span class="w"> </span>bgp<span class="w"> </span>log-neighbor-changes
<span class="w"> </span>neighbor<span class="w"> </span><span class="m">10</span>.200.200.2<span class="w"> </span>remote-as<span class="w"> </span><span class="m">65001</span>
<span class="w"> </span>!
<span class="w"> </span>address-family<span class="w"> </span>ipv4
<span class="w">  </span>network<span class="w"> </span><span class="m">10</span>.25.25.0<span class="w"> </span>mask<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w">  </span>network<span class="w"> </span><span class="m">10</span>.25.26.0<span class="w"> </span>mask<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w">  </span>network<span class="w"> </span><span class="m">10</span>.100.100.0<span class="w"> </span>mask<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w">  </span>network<span class="w"> </span><span class="m">10</span>.200.200.0<span class="w"> </span>mask<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w">  </span>network<span class="w"> </span><span class="m">172</span>.16.0.0
<span class="w">  </span>network<span class="w"> </span><span class="m">192</span>.168.1.1<span class="w"> </span>mask<span class="w"> </span><span class="m">255</span>.255.255.255
<span class="w">  </span>neighbor<span class="w"> </span><span class="m">10</span>.200.200.2<span class="w"> </span>activate
<span class="w"> </span>exit-address-family
</pre></div>

<p>So finally here is the easy part, using our new <code>state: purged</code> parameter:
you can delete the entire bgp configuration on a device using one task.
This might be often relevant on lab networks or when you want to start
with a clean-state configuration.</p>
<div class="code"><pre class="code literal-block"><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Use the bgp_global resource module</span>
<span class="w">  </span><span class="nt">cisco.ios.ios_bgp_global</span><span class="p">:</span>
<span class="w">    </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">purged</span>
</pre></div>

<h3>Difference between purged and deleted</h3>
<p>The <code>state: deleted</code> parameter is very similar, however it has two primary
purposes different than purged. Deleted has the ability to remove the
specified configuration with the config parameter. If no configuration
is specified it will delete that entire resource (e.g. all address
family configuration if using the bgp_address_family module). However,
there are multiple resource modules that make up BGP configuration. This
means you would need multiple modules running <code>state: deleted</code> to remove
all the BGP configuration. The <code>state: purged</code> parameter allows you to
use <code>bgp_global</code> resource module to remove all BGP configuration
simplifying your Ansible Playbooks.</p>
<p>Now we can execute the playbook and manually check the configuration to
see what it did:</p>
<p><img alt="network purge blog three" src="../images/posts/archive/network-purge-blog-three.png"></p>
<p>In the above screenshot (from the Ansible Automation Platform Web UI)
you can see that the playbook ran successfully and the BGP configuration
is now removed.</p>
<p>Checking the running configuration on the Cisco router will reflect the change:</p>
<div class="code"><pre class="code literal-block">rtr1#sh<span class="w"> </span>run<span class="w"> </span><span class="p">|</span><span class="w"> </span>s<span class="w"> </span>router<span class="w"> </span>bgp
rtr1#
</pre></div>

<h3>Why would I use one over the other?</h3>
<p>Many people are automating brownfield networks, or even networks where a
mix of manual changes and automated changes are taking place. You might
want to remove all BGP configuration from multiple devices where you
have no SoT (Source of Truth) setup. This allows a playbook writer to
use one task to destroy just BGP configuration versus a multiple-module
method. This is just another tool in your resource module toolbelt!</p>
<h3>Where do I go next?</h3>
<p>All the examples in this blog post are on
<a href="https://github.com/network-automation/purge_blog_post">Github here</a>.</p>
          </div>
      </article><br><hr>
<br>
</div>
          <ul class="pager postindexpager clearfix">
<li class="previous"><a href="index-12.html" rel="prev">Newer posts</a></li>
            <li class="next"><a href="index-10.html" rel="next">Older posts</a></li>
        </ul>
<!--End of body content-->
</div>
        <div class="content-slim redhat-footer">
      <div class="footer-left">
        <ul class="footer-left-links">
<li>
            <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC BY-SA 4.0</a>
          </li>
          <li>
            <a href="https://www.redhat.com/en/about/privacy-policy" target="_blank">Privacy policy</a>
          </li>
          <li>
            <a href="https://docs.ansible.com/ansible/latest/community/code_of_conduct.html" target="_blank">Code of conduct</a>
          </li>
        </ul>
</div>
      <div class="footer-right">
        <span class="redhat">Powered by</span>
        <span class="redhat-logo">
          <a href="https://www.redhat.com/en/technologies/management/ansible" target="_blank">
            <img src="../assets/images/redhat_reversed.svg" alt="Red Hat logo." width="96" height="28"></a>
        </span>
      </div>
    </div>

</div>

            <script src="../assets/js/jquery.min.js"></script><script src="../assets/js/popper.min.js"></script><script src="../assets/js/bootstrap.min.js"></script><script src="../assets/js/baguetteBox.min.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
</script><script src="../assets/js/clipboard.min.js" type="text/javascript"></script><script src="../assets/js/clipboard.js" type="text/javascript"></script>
</body>
</html>
