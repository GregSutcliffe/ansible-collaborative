<h1>Welcome to the Ansible Lightspeed with IBM Watson Code Assistant Technical Preview</h1>
<p>At Red Hat Summit and AnsibleFest 2023, we <a href="https://www.redhat.com/en/about/press-releases/red-hat-introduces-ansible-lightspeed-ai-driven-it-automation">announced Ansible Lightspeed with IBM Watson Code Assistant</a>, a new generative AI service for Ansible automation.
Today, we are thrilled to announce the Ansible Lightspeed technical preview launch.</p>
<p>In this blog, we'll walk through the steps to access the Ansible
Lightspeed with IBM Watson Code Assistant technical preview service and
get it up and running in your Visual Studio Code environment. Then we'll
share more about what you can expect from the experience and how to
generate your first Ansible tasks with generative AI.</p>
<p>This is exciting stuff, so let's dive right in.</p>
<h2>Technical Preview: Empowering Ansible Users with AI</h2>
<p>Ansible Lightspeed with IBM Watson Code Assistant is a purpose-built
generative AI tool that aims to streamline the creation of Ansible
content. This capability is natively integrated into your VS Code editor
via the <a href="https://marketplace.visualstudio.com/items?itemName=redhat.ansible">Ansible VS Code extension</a>.
The AI capabilities are powered by Watson Code Assistant, a foundation
model trained on Ansible Galaxy, GitHub, and other open sources of
data.</p>
<p>The technical preview is open and available, free of charge, to all
Ansible users. As more users engage with Ansible Lightspeed, the model
recommendations will continuously improve, thanks to the valuable input
and engagement from the community.</p>
<h2>Getting Connected: Installation and Configuration</h2>
<p>You'll need <a href="https://code.visualstudio.com/download">Visual Studio Code</a> and Ansible installed on
your workstation and a GitHub account to access the Ansible Lightspeed
service. Let's get started!</p>
<ul>
<li>Install the <a href="https://marketplace.visualstudio.com/items?itemName=redhat.ansible">Ansible VS Code extension</a> from the Visual Studio Code Marketplace by
    searching for "<em>ansible</em>" and selecting the extension published by Red Hat.</li>
<li>Enable the Ansible Lightspeed service within the extension by accessing the "<em>Extension Settings</em>" via the gear icon.</li>
<li>In the settings, enable both "<em>Ansible Lightspeed enabled</em>" and "<em>Enable Ansible Lightspeed with Watson Code Assistant inline suggestions</em>" checkboxes.</li>
</ul>
<p>Note: You can enable Ansible Lightspeed in the "[User]" or "[Workspace]"
settings, based on your preference. More information on VS Code User and
Workspace settings can be found in their
<a href="https://code.visualstudio.com/docs/getstarted/settings#">documentation</a>.</p>
<p><em>Installing the Ansible Visual Studio Code extension.</em>
<img alt="Installing the Ansible Visual Studio Code extension" src="/images/posts/archive/lightspeed-blog-launching.gif"></p>
<ul>
<li>Click on the Ansible "A" in the VS Code activity bar on the
    left-hand side of your editor to open the extension.</li>
<li>Click "<em>Connect</em>" and follow the prompts to log into GitHub using
    your credentials.</li>
</ul>
<p><em>Log in using your GitHub credentials.</em>
<img alt="Log in using your GitHub credentials" src="/images/posts/archive/lightspeed-blog-login.gif"></p>
<ul>
<li>Read the Ansible Lightspeed technical preview terms and conditions and click "<em>Agree</em>".</li>
<li>Next, authorize Ansible Lightspeed for VS Code by clicking "<em>Authorize</em>".</li>
<li>Follow the browser prompts to redirect you back to VS Code, and, finally, click "<em>Open</em>" in the VS Code confirmation dialog box.</li>
</ul>
<p><em>Authorize Ansible Lightspeed.</em>
<img alt="Authorize Ansible Lightspeed" src="/images/posts/archive/lightspeed-blog-agree.gif"></p>
<p>Congratulations! You've successfully configured Ansible Lightspeed in VS
Code.</p>
<p>You can confirm that Ansible Lightspeed is enabled by checking the VS
Code status bar at the bottom of the editor window.</p>
<p>Please ensure a Python environment is selected and your Ansible YAML
files are associated with the Ansible language. More information on VS
Code languages can be found in their
<a href="https://code.visualstudio.com/docs/languages/overview#_change-the-language-for-the-selected-file">documentation</a>.</p>
<p><em>Ansible Lightspeed status.</em>
<img alt="Ansible Lightspeed status" src="/images/posts/archive/lightspeed-blog-status.png"></p>
<h2>A Quick Tour of Ansible Lightspeed: Generating Your First Task</h2>
<p>Now that you are connected to Ansible Lightspeed, it's time to
experience its AI-enhanced content creation experience.</p>
<p>Let's use an
<a href="https://github.com/craig-br/demos/blob/main/blogs/lightspeed_tech_preview_jun2023/deploy_monitoring.yml">example</a>
<a href="https://github.com/craig-br/demos/blob/main/blogs/lightspeed_tech_preview_jun2023/deploy_monitoring.yml">Playbook</a>
to walk through asking Ansible Lightspeed for AI-generated task suggestions and also highlight some of what you can
expect in the technical preview release. The example Playbook installs
<a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/managing_systems_using_the_rhel_9_web_console/index">Cockpit</a>
on a Red Hat Enterprise Linux system.</p>
<p>Note: As more users engage with Ansible Lightspeed, the breadth, depth, and quality of the recommendations generated by the model will improve. Therefore, the Ansible task suggestions in the examples below may differ from your results.</p>
<h2>How do I generate an Ansible Lightspeed suggestion?</h2>
<p>Let's use our first Playbook task in the
<a href="https://github.com/craig-br/demos/blob/main/blogs/lightspeed_tech_preview_jun2023/deploy_monitoring.yml">deploy_monitoring.yml</a>
example Playbook to demonstrate asking Ansible Lightspeed for an AI suggestion.</p>
<ul>
<li>Move your cursor to the end of the  "<em>- name: Include redhat.rhel_system_roles.cockpit" task description.</em></li>
<li>Press "ENTER" to generate a suggestion.</li>
<li>Press "TAB" to accept the suggestion.</li>
</ul>
<p><em>Generating an Ansible task.</em>
<img alt="Generating an Ansible task" src="/images/posts/archive/lightspeed-blog-generate.gif"></p>
<p>In this suggestion, we asked Ansible Lightspeed to include the
"<em>cockpit</em>" Role, part of the  <a href="https://access.redhat.com/articles/3050101">Red Hat Enterprise Linux System Roles</a> Certified Content Collection. The suggestion used the <a href="https://docs.ansible.com/ansible/latest/collections_guide/collections_using_playbooks.html">Fully Qualified Collection Name</a> (FQCN):
<a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_role_module.html"><code>ansible.builtin.include_role</code></a>.</p>
<p>Using FQCNs is a <a href="https://docs.ansible.com/ansible/latest/porting_guides/porting_guide_2.10.html">recommended best practice</a> and an example of the many unique post-processing capabilities we've baked into the Ansible Lightspeed service.</p>
<p>Let's move on to the next task.</p>
<h2>Ansible best practices. We've got you covered.</h2>
<p><em>Ansible Lightspeed best practices example.</em>
<img alt="Ansible Lightspeed best practices example" src="/images/posts/archive/lightspeed-blog-best-practice.gif"></p>
<p>This Playbook task copies
<a href="https://github.com/craig-br/demos/blob/main/blogs/lightspeed_tech_preview_jun2023/files/cockpit.conf">cockpit.conf</a> to the target host. Note that the recommendation included the "<em>mode:</em>" module argument and set the Linux file permissions to <code>0*644*</code>.</p>
<p>Ansible Lightspeed provided a robust example of setting file permissions
for the <a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/copy_module.html">ansible.builtin.copy</a> module, another recommended best practice.</p>
<p>We'll continue to expand on these natively integrated best practices as the service matures.</p>
<h2>Finalizing the Playbook</h2>
<p>Let's ask Ansible Lightspeed to generate suggestions for the remaining
two Playbook tasks. The first task restarts the Cockpit service to apply our custom
<a href="https://github.com/craig-br/demos/blob/main/blogs/lightspeed_tech_preview_jun2023/files/cockpit.conf">cockpit.conf</a>
configuration file and the second task permits Cockpit service traffic through the firewall.</p>
<p><em>Generate remaining Ansible tasks.</em>
<img alt="Generate remaining Ansible tasks" src="/images/posts/archive/lightspeed-blog-generate-tasks.gif"></p>
<h2>Ansible Lightspeed with Watson Code Assistant and context</h2>
<p>Generating contextually aware, accurate Ansible content suggestions
saves you time and helps you create efficiently. One of Ansible
Lightspeed's superpowers is context.</p>
<p>Ansible Lightspeed uses the Ansible task description and YAML file
content to generate suggestions suited to what you're automating. Let's
use an example to illustrate this.</p>
<p>Imagine we want to set module defaults for the
<a href="https://docs.ansible.com/ansible/latest/collections/ansible/posix/firewalld_module.html">ansible.posix.firewalld</a>
module in the last Ansible task. Specifically, always
making the firewall rule changes permanent. We can accomplish this by using the
<a href="https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_module_defaults.html">module_defaults</a> Playbook keyword, illustrated below.</p>
<div class="code"><pre class="code literal-block"><span class="nt">module_defaults</span><span class="p">:</span>
<span class="w">  </span><span class="nt">ansible.posix.firewalld</span><span class="p">:</span>
<span class="w">    </span><span class="nt">permanent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>

<h3>Ansible Playbook module_defaults section</h3>
<p>The module defaults section tells Ansible to always add "<em>permanent: true</em>"
to every "<em>ansible.posix.firewall</em>" task in the Playbook. Let's
ask Ansible Lightspeed for an updated suggestion with the module
defaults.</p>
<p><em>Ansible Lightspeed context.</em>
<img alt="Ansible Lightspeed context" src="/images/posts/archive/lightspeed-blog-context.gif"></p>
<p>Note that it used the full Playbook context and provided a revised
recommendation that excludes "<em>permanent: true</em>". You can also apply
this to other Playbook keywords, such as "<em>vars</em>".</p>
<h2>Transparency and openness. Ansible Lightspeed Content Source Matching</h2>
<p>Last, and certainly not least, is Ansible Lightspeed Content Source
Matching.</p>
<p><em>Ansible Lightspeed Content Source Matching.</em>
<img alt="Ansible Lightspeed Content Source Matching" src="/images/posts/archive/lightspeed-blog-source-matching.gif"></p>
<p>We transparently share the potential source, Author, and content license
of the training data used for the recommendation. Building trust in the
community and supporting the relationships between authors and
contributors is part of Red Hat's DNA.  These suggestions came from the
Ansible community; we don't want to hide that.</p>
<h2>Wrap-up</h2>
<p>Congratulations! You have successfully configured Ansible Lightspeed in
VS Code and experienced its generative AI capabilities with just a few
simple steps.</p>
<p>We encourage you to share your feedback on the technical preview
experience and stay updated on the project by joining the
<a href="https://matrix.to/#/#lightspeed:ansible.com">Ansible Lightspeed Matrix room</a>
to ask questions and get the latest news. Please also
visit the <a href="http://www.redhat.com/ansible-lightspeed">Ansible Lightspeed landing page.</a></p>
<p>We'll update you with new resources to help you get the most out of your
Ansible Lightspeed with Watson Code Assistant experience.</p>
<p>Happy automating...with AI!</p>